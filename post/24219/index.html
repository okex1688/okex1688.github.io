<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          eth2 中也将有 MEV？验证者的收益将如何受到影响？ - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="由于以太坊 2.0 中的交易排序流程将与当前的 PoW 以太坊相同，我们有理由认为，MEV 机会仍将存在于以太坊 2.0 中。" />

  <meta name="keywords" content="区块大全, 区块链, 区块链资讯, 区块链快讯, 区块链新闻, 比特币行情" />






<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/24219/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="eth2 中也将有 MEV？验证者的收益将如何受到影响？" />
<meta property="og:description" content="由于以太坊 2.0 中的交易排序流程将与当前的 PoW 以太坊相同，我们有理由认为，MEV 机会仍将存在于以太坊 2.0 中。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/24219/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-06-14T00:00:00+00:00" />

<meta itemprop="name" content="eth2 中也将有 MEV？验证者的收益将如何受到影响？">
<meta itemprop="description" content="由于以太坊 2.0 中的交易排序流程将与当前的 PoW 以太坊相同，我们有理由认为，MEV 机会仍将存在于以太坊 2.0 中。"><meta itemprop="datePublished" content="2021-06-14T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-06-14T00:00:00+00:00" />
<meta itemprop="wordCount" content="7666">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="eth2 中也将有 MEV？验证者的收益将如何受到影响？"/>
<meta name="twitter:description" content="由于以太坊 2.0 中的交易排序流程将与当前的 PoW 以太坊相同，我们有理由认为，MEV 机会仍将存在于以太坊 2.0 中。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">eth2 中也将有 MEV？验证者的收益将如何受到影响？</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2021-06-14">
      2021-06-14
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 7666 字 -
        预计阅读 16 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"> 区块链 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>以太坊很快将从 PoW 过渡到 PoS 共识协议。开发者们已经致力于实现这一转变数年时间，并且分多个步骤进行。第一步是在 2020 年 12 月推出信标链，当前信标链现在已经上线，在撰写本文时，信标链上已经有超过 16 万名个验证者（vapdators），相当于质押了约 500 万 ETH。</p>
<p>第二步「大合并」可能会在 2022 年初发生。虽然在这一步之外还有很多细节需要解决，但关于 PoS 以太坊（即 eth2）已经有足够多的细节被解决，这就允许我们能够推断出最大可提取价值（MEV，即 Maximal Extractable Value，旧称为 「矿工可提取价值 」）在 eth2 中的情况。</p>
<p>在本文中，我们将研究 eth2 中的交易排序 ，并分析 由 MEV 价值提取而带来的验证者收益增长。 我们发现， MEV 将显著提高验证者获得的奖励，但也可能会加剧 eth2 参与者之间（收益）的不平等 。我们还将讨论 eth2 中 MEV 的定性方面，比如交易平台和验证者池（即质押池）等最大利益相关者之间的潜在动态。</p>
<blockquote>
<p><em>本文由 Alex Obadia 和 Taarush Vblockquotepapalp 共同撰写。完整的分析文档参见：</em></p>
</blockquote>
<blockquote>
<p><em><a href="https://github.com/flashbots/eth2-research">https://github.com/flashbots/eth2-research</a></em> <em>‍</em></p>
</blockquote>
<h2 id="01-eth2-概述">01. eth2 概述</h2>
<p>目前以太坊的共识由运行挖矿硬件的矿工们实现，这些硬件被优化以更好地解决 PoW 挑战。而从 PoW 共识到 PoS 共识的转变意味着以太坊网络将由验证者（而非矿工）来保护，每个验证者节点需要质押 32 ETH 的保证金，并通过投票以达成对信标链状态的共识。验证者这样做有着经济上的激励，即验证者的良好行为将获得奖励，而离线或者恶意行为将受到惩罚（罚没）。</p>
<p>目前，信标链与 eth1 链并行运行，自 2020 年 12 月以来信标链一直在成功地在运行中。「大合并」将使得信标链与当前的 eth1 链合并。在本文中，我们将使用「 eth1 」来表示包含区块和交易的以太坊执行引擎；使用「 信标链 」来表示 eth2 新的底层 PoS 共识机制；使用「 eth2 」来表示合并之后的以太坊权威链，这条链包括了 eth1 执行引擎 和 用于实现共识的信标链 。</p>
<p>eth2 以 6.4 分钟（称为一个 epoch）的增量达成共识。每个 epoch 包含 32 个 slot，每个 slot 时长为 12 秒，每个 slot 都代表了一个区块被添加进信标链的机会。在正常运行的情况下，每个 slot 都会产生一个区块，但是诸如验证者离线等原因将可能导致某些 slots 产生 0 个区块。</p>
<p>对于每个 epoch，所有验证者都是被伪随机地分配去 提议区块 （propose block）或者 对由其他验证者提议的区块进行证明 （attest to blocks），提议区块的验证者称为 「 提议者 」，证明区块的验证者称为「 证明者 」。每个 slot 期间仅会有 1 名提议者和多名证明者，这些证明者将负责证明该区块中的所有信息，包括来自 eth1 的数据和来自信标链的数据。证明者通过对信标链的「三个方面」的当前值（current values）进行正确地投票来获得奖励，这三个方面分别是：区块链的链头（即顶端区块）、被证明的检查点以及被敲定的检查点。</p>
<p>备注：每个 epoch 的最后一个 slot 被称为检查点（checkpoint）。当两个连续的 epochs 被证明了（justified），那么前一个 epoch 就可以视为被敲定了（finapzed），详情可参考《以太坊 2.0：如何实现最终性？》。</p>
<h2 id="02-eth2-中的-mev">02. eth2 中的 MEV</h2>
<p>MEV （最大可提取价值）是 区块提议者通过对他们提议的区块内的交易进行重新排序、审查或者加塞交易，从而获得的所有可能的价值 。为了理解 eth2 中的交易排序，我们首先来了解一下被用来对交易进行排序的软件（即 eth2 客户端）的内部工作原理。</p>
<p><strong>1. eth2 客户端</strong></p>
<p>由于 eth2 本质上是合并在一起的两条链（即 eth1 链和信标链），因此 eth2 客户端由两个「子客户端」（sub-cpents）组成也就不足为奇了：其中一个是执行引擎客户端，另一个是共识客户端。值得注意的是， 当前的 PoW 以太坊客户端 （即 eth1 客户端 ） 将继续存在于 eth2 中，并与 信标客户端 一起运行 ，彼此分工不同。</p>
<p>其中，eth2 中的 eth1 客户端是对当前的 PoW 以太坊客户端 剥离掉其共识职责，而仅专注于 eth1 链的交易池、eth1 执行和 EVM ；而信标客户端 负责共识和分配验证者的职责 （比如对信标区块的证明和提议）。 这两个客户端并行运行 ，各自维护自己的 p2p 网络堆栈（信标客户端维护 pbp2p，eth1 客户端维护 devp2p）。</p>
<p>eth2 客户端可能看起来就像下图这个经修改的示意图（源自 Danny Ryan 撰写的文章 [1]）</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_p4zejp0zg7.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<p><em>图 1</em></p>
<p><strong>2. eth1 的区块提议</strong></p>
<p>正如在当前的 PoW 以太坊中一样，eth2 中的 eth1 客户端将维护一个本地的交易池（mblockquotepool），其中包含了来自其 p2p 网络中接收到的交易。正如 Rayonism 规范 [2] 中所描述的， 信标客户端将与 eth1 客户端交互，从而形成一个 eth1 区块 。虽然该规范中的（两个客户端之间的）通信途径细节可能会在生产中发生变化，但大致的方式很可能会保持一致：</p>
<p>经过多次来回，信标客户端向 eth1 客户端查询其通过 eth1 交易池形成的某个 eth1 区块 ，检查该区块是否满足各种有效性条件；</p>
<p>一旦这个 eth1 区块被信标客户端接收，并且满足了各种有效性检查，则 该 eth1 区块将被提议者 （proposers） 打包进当前的 信标区块 中 ，并成为证明者（attesters）要投票的数据的一部分。</p>
<p>然后信标客户端将要求 eth1 客户端 把 eth1 链的链头 （即顶端区块） 更新 为这个最新被打包的 eth1 区块；</p>
<p>一段之间之后，这个 包含了该信标区块的 epoch 会被敲定 （finapzed），然后信标客户端将告知 eth1 客户端这个 eth2 区块已经在共识层被敲定了。</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_ozw202us87.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<p><em>图 2</em></p>
<p>虽然 eth2 中达成共识的方式改变了，但 eth2 中的 每个 eth1 区块内的交易排序和今天是一样的 ，都是在排序交易的软件（比如 PoW 以太坊客户端 Geth）和 p2p 交易网络中实现的。</p>
<p>3. eth2 中是否存在 MEV？</p>
<p>由于 eth2 中的交易排序流程将与当前的 PoW 以太坊相同，我们有理由认为， MEV 机会仍将存在于 eth2 中 ，正如我们今天在 PoW 以太坊中看到的那样。不同之处在于谁拥有对排序的最终控制权，即 在 eth2 中，验证者（而非矿工）将对交易排序拥有控制权 ，验证者被选出来提议信标区块，信标区块中将会包含一个从 eth1 客户端查询到的新的 eth1 区块。</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_ls8wmcs4sl.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<p><em>图 3</em></p>
<p>这意味着，诸如 Flashbots 的 MEV-geth （一种经修改的 eth1 客户端软件，旨在优化 MEV 的提取）这样一种允许 eth1 交易发送者通过给区块提议者（以及交易排序者）支付小费来实现自己希望的交易排序的技术将依然存在。明确了这一主张后，我们现在可以思考一下， 通过运行 Flashbots 这样的软件，验证者能赚多少钱？</p>
<h2 id="03-验证者的奖励机制">03. 验证者的奖励机制</h2>
<p>虽然 MEV 是出了名的难以衡量，但我们使用 Flashbots 数据 [3] 作为 eth2 区块提议者通过 MEV 可以获得的最低额外收益的 下限 。这是一个收益下限，因为仅有一小部分 MEV 活动是在 Flashbots 上发生。</p>
<p>本文分析的一个警告是，本文是基于 eth2 协议规定的 staking 收益之上考虑 MEV，但不包括区块提议者可以获得的交易费奖励。不包括这些交易费的主要原因是，很难预测在 EIP-1559 之后提议者将能从交易费用中赚到多少（EIP-1559 将引入基本交易费 basefee 的销毁机制）。</p>
<p><strong>1. 理想的情况</strong></p>
<p>让我们首先考虑一种理想的情况，即所有验证者完美参与并获得最大的协议奖励（即不存在大规模罚没），并且所有 staking 奖励都被平均分配，因为所有验证者都在无限的时间尺度上提议相同数量的区块。</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_yn2j1uhuit.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<blockquote>
<p><em>图 4：Y 轴表示收益率，X 轴表示验证者数量。 蓝线 表示在不考虑 MEV 的情况下，理想情况中的验证者年收益率； 黄线 表示在考虑 MEV 的情况下，理想情况中的验证者年收益率。蓝色竖虚线表示撰文时的验证者数量（大约 16 万名验证者）。</em></p>
</blockquote>
<p>基于当前的验证者数量（16 万名验证者），我们发现，MEV 可以将验证者的奖励 增加 75.3% ，或者说提供一个 12.83% 的 APR （年化利率），高于比考虑 MEV 情况下通过质押 ETH 带来的 7.35% APR 收益。从中可以得出的一个结论是， 更高的验证者奖励意味着更多的 ETH 持有者将被吸引成为验证者，这反过来意味着以太坊拥有更大的验证者集合而变得更安全 。</p>
<p>随着在不久的将来更多的验证者上线，基于 MEV 带来的验证者收益提高将会不那么显著，比如 25 万名验证者（即质押了 800 万 ETH）时的奖励将仅增加 60%。如上所述，这一分析没有考虑验证者将获得多少交易费，因为这将降低 MEV 对于收益的相对影响。然而，与当前 PoW 矿工通过 Flashbots 赚取的额外 MEV 奖励（目前大约是 5.6%）相比较，这些数据依然是有用的。这种明显的差异源于 PoS 发行率的显著下降。这表明，在 eth2 中，MEV 的提取将比在 eth1 中更值得，而且质押者（stakers）可能会大力推动通过 MEV 实现的质押收益。</p>
<p><strong>2. 将时间因素 &amp; REV 分配考虑进去</strong></p>
<p>在任何有限的时间尺度上，验证者的奖励都是可变的，因为提议区块有着特定的协议奖励，且因为 一些验证者将很幸运地有机会提议比平均数量更多的区块，而一些不那么幸运的验证者将提议更少的区块 。</p>
<p>例如，如果网络中有 10 万名验证者，那么每个验证者每年提议的区块的 平均数量 是 26 个区块，而 最不幸 的 1% 验证者最多有机会提议 15 个块， 最幸运 的 1% 的验证者则至少提议 39 个区块。见下图：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_4q3d8b1565.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<p><em>图 5</em></p>
<p>基于这一逻辑，我们可以根据 3 个不同水平的区块提议「运气」（即最幸运的 1% 验证者，最不幸的 1% 验证者，以及平均的验证者）来绘制出验证者 staking 奖励的可变性 （不考虑 MEV 的影响）：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_5ov1dgrujs.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<blockquote>
<p><em>图 6：Y 轴表示收益率，X 轴表示验证者数量。绿线表示在不考虑 MEV 的情况下最幸运的 1% 验证者可以获得的 staking 年收益率；红线表示不考虑 MEV 的情况下最不幸的 1% 验证者可以获得的 staking 年收益率；黄线表示不考虑 MEV 的情况下验证者 平均能够获得的 staking 年收益率 。蓝色竖虚线表示撰文时的验证者数量（大约 16 万名验证者）。</em></p>
</blockquote>
<p>现在，我们加入 Flashbots 上记录的每个区块的平均 已获得的提取价值 （ REV ，即 Reapzed Extractable Value）[4]，我们可以比较一下这 3 个不同水平的区块提议「运气」在考虑 MEV 价值和不考虑 MEV 价值的情况下的验证者收益率情况：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_akkpsmj6rh.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<blockquote>
<p><em>图 7：绿线表示包含 MEV 价值提取的情况下，最幸运的 1% 验证者可以获得的年收益率；红线表示包含 MEV 价值提取的情况下最不幸的 1% 验证者可以获得的年收益率；黄线表示包含 MEV 价值提取的情况下验证者平均可以获得的年收益率。最底下这条粗线是在不考虑 MEV 的情况下的 3 种区块提议「运气」中验证者可以获得的 staking 年收益率，但由于三条线在上图中的差异太小，因此三条线重叠在一起了。</em></p>
</blockquote>
<p>上图（图 7）中的三条用于表示不考虑 MEV 价值的 3 个「运气」水平带来的验证者年 staking 收益率的曲线几乎重叠在一起而难以区分。这表明， MEV 价值的提取扩大了由区块提议「运气」带来的验证者之间收益的不平等 。</p>
<p>此外，REV 的分布是不均匀的 ，可以被视为「运气」的第二个维度，即 其中一些区块拥有比其他区块更大的 MEV 奖励 。例如，下面是在最近的以太坊 10 万个连续区块（从 11600000 区块高度开始）中使用了 Flashbots 的 MEV-Geth 挖矿的矿工所获得的 REV 奖励的（长尾）分布：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_ipbszssajv.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<p><em>图 8</em></p>
<p>上图（图 8）中我们将 X 轴（每个区块中矿工实际已获得的 REV 价值）截短至 3 ETH，但实际上在我们的抽样中矿工最高可以获得 101 ETH 的 REV 价值。使用这一 Flashbots 矿工奖励的分布来代表 REV 的分布，我们可以根据最不幸的 1% 验证者、平均的验证者和最幸运的 1% 验证者从 MEV 奖励中获得的收益来界定和绘制出 3 个运气级别的年收益率曲线：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_2t5s8gbjhq.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<blockquote>
<p><em>图 9： 绿线 代表在包含 MEV 价值提取的情况下 最幸运 的 1% 验证者可以获得的年收益率； 红线 代表在包含 MEV 价值提取的情况下 最不幸 的 1% 验证者可以获得的年收益率； 黄线 代表在包含 MEV 价值提取的情况下 验证者平均可以获得的年收益率 。蓝色竖虚线表示撰文时的验证者数量（大约 16 万名验证者）。</em></p>
</blockquote>
<p>之前一张图（即图 7）表向我们展示了 MEV 扩大了 由区块提议「运气」带来的验证者之间收益的不平等；而这种图（图 9）表展示了 REV 的不均匀分布是验证者之间收益不平等的 更大来源 ，尤其是考虑到这张图（图 9）中的 Y 轴增长到了 600%，而图 7 的 Y 轴仅为 80%。</p>
<p>然而，在现实中，验证者将会通过在 验证者池 （vapdator pools，也即所谓的质押池）中汇聚资源来消除来自区块提议运气和 REV 分布不均而带来的验证者收益的差异。但这意味着，MEV 对于验证者收益的影响可能会抑制人们独立运行验证者节点，使得加入某个验证者池在财务激励上更加有吸引力，从而 可能导致网络验证的中心化 。</p>
<p>最终，我们担心 MEV 可能会加重 eth2 中的寡头垄断动态，因为与那些拥有更少 ETH 质押量的实体（验证者池）相比，拥有最多 ETH 质押量的实体的增长速度更快。这将使 MEV 提取的民主化在 eth2 中特别重要，从而来保持共识投票权的去中心化。</p>
<p><strong>04. 新的共识参与者</strong></p>
<p>虽然上述定量分析对于开始思考 eth2 中的 MEV 很重要，但如果没有对 eth2 共识参与者的定性分析，本文就是不完整的。如前所述，在 eth2 中，矿工和矿池将被控制着大量 ETH 的实体（比如交易平台、协议的资金库、投资基金和验证者池）所 代替 。这一点已经可以通过信标链浏览器 beaconcha.in 上显示的当前 eth2 验证者的 eth1 存款地址的分布情况看出来：</p>
<p><img src="https://img.bibiqing.com/news/2021/0614/1_59hq1hsr34.jpg" alt="eth2 中也将有 MEV？验证者的收益将如何受到影响？"></p>
<blockquote>
<p><em>图10：eth2 所有验证者的 eth1 存款地址的分布情况。可以看出， 大量的 eth2 验证者是通过几家交易平台和质押池等实体的地址来进行质押的，这意味着这些实体控制了很大比例的 eth2 投票权 。</em></p>
</blockquote>
<p>值得注意的是，这个饼状图并没有区分控制共识投票权的最终实体和它所运行的基础设施。虽然 eth2 共识投票权的中心化令人担忧，但基础设施的中心化可能不是如此，PoS 经济激励鼓励基础设施的去中心化，以最小化相关的 slashing 风险。</p>
<p>具体来说，这意味着像 Kraken 这样控制了大量（用户的） eth 的交易平台可能会通过将（用户的）质押金分散到许多基础设施提供商，在不同地区、不同硬件上运行 eth2 节点，而不是在内部承担这项庞大的基础设施运行任务，从而降低大幅罚没的风险。</p>
<p><strong>1. 交易平台</strong></p>
<p>在 eth2 中最引人注目的变化是 交易平台成为了最大的 ETH 持有者 ， 因此也成为了最大的验证者 。 Coinbase、币安和 Kraken 等中心化企业可能将控制最大数量的验证者 slots 。这些参与者受到与矿池不同的规则约束，对其声誉有许多方面的影响。与矿工格局相比，这种差异可能会对验证者格局产生新的影响，并可能影响验证者参与的活动，比如他们获取收益的 MEV 类型。</p>
<p>有趣的是，这些实体除了参与入 eth2 质押，还参与多项活动，这可能会为这些交易平台提供的现有服务与 MEV 价值提取之间的协同增效带来新的机会。这些活动包括加速交易、在提款被打包上链之前提供私下的提款，以及通过对订单流的加密原生支付减少链上交易费等等。</p>
<p>这类服务最初可能是最前沿的，它们的好处可能意味着用户会迁移到提供这些服务的交易平台，从而可能会损害那些由于监管原因没有或不能提供这些服务的交易平台。此外，交易平台在 MEV 博弈中的潜在垂直整合（比如交易平台运行它们自己的机器人向它们自己的验证者节点提交交易）是一个值得关注的问题，我们认为应该进一步研究。</p>
<p><strong>2. 验证者池</strong></p>
<p>eth2 的另一个重要的转变是 验证者池 （vapdator pools，也即所谓的 「质押池 」） 的崛起 ，这些池提供了诸如降低参与 eth2 质押的最低 ETH 数量要求（用户自己运行单个验证者节点需要质押 32 ETH，而加入验证者池可以提供少于 32 ETH 的数量，因为验证者池将把所有用户的 ETH 汇聚起来进行质押）、替客户搭建验证者节点、消除由于区块提议的「运气」（会影响 MEV+交易费收益）带来的变量，以及提供诸如 staking 衍生品之类的额外服务来（得益于他们管理的资金基数）等好处。</p>
<p>一个有趣的现象是 meta-pools 池的出现，比如 Rocketpool 和 pdo。这些实体与许多验证者池相连接，很可能成为这些验证者池的质押量的一大来源，因此能够对验证者池的行为施加影响，比如影响验证者池参与的 MEV 提取类型以及它们向质押者提供的利润分成。</p>
<p>这些 meta-pools 通常提供 质押衍生品 。这方面的一个例子是为用户提供他们已被锁定的 ETH 质押存款的一种流动性代币化版本，用户可以使用这种衍生品在（以太坊）网络中使用。通过允许用户将被锁定的 ETH 通过衍生品的形式再次用于 DeFi 中，这将进一步增加验证者在 MEV 价值之外的收益。</p>
<h2 id="05-开放式问题">05. 开放式问题</h2>
<p>我们对 eth2 中 MEV 的探索发现了许多悬而未决的问题，我们计划在接下来的几个月里进行研究。以下是其中的四个：</p>
<p><strong>1. eth1 区块提议者市场</strong></p>
<p>由于 eth2 实际上有两个客户端要运行（eth1 客户端+信标客户端），很可能独立的验证者会选择将他们的 eth1 节点默认为一个服务提供商，比如 Infura，因为运行 eth1 节点的本身开销非常大。这可能暗示了 eth1 和 eth2 节点运行者开始分离。假设这样一个动态的出现，我们可以想象出现一个 eth1 节点运行者市场，其中运行着高性能的硬件和 MEV 模拟软件，满足 eth2 区块提议者的需求。</p>
<p><strong>2. 优化 MEV 搜索时面临的新限制</strong></p>
<p>诸如价格套利和清算等 MEV 机会在 eth2 中仍然存在 ，但提取这些 MEV 价值的系统有着新的参数，这些参数可能会修改或引入对 MEV 提取的约束。</p>
<p>比如，eth2 的出块时间固定为 12 秒，而不是像当前 eth1 的出块时间多变，且区块提议者的 slots 是在每个 epoch 开始时被分配的，这意味着提议者将最多能够有 6.4 分钟的时间来计算他们的任务（当然，被分配在 epoch 一开始的 slots 的提议者没有那么长的时间）。这不仅为验证者在 eth1 客户端交易池上运行计算以获得最佳 MEV 提取提供了潜在的更多时间，而且由于出块时间的可预测性，使得模拟和执行更容易。</p>
<p>这意味着有更长的、更可预测的时间间隔来计算和执行 MEV 提取策略，从而实现更复杂的、需要大量计算的 MEV 提取。</p>
<p><strong>3. 领导人选择机制的变化</strong></p>
<p>验证者将提前知道他们是否需要提出一个区块（除非是某个新的 epoch 的第一个 slot）。他们甚至可以（尽管概率很低）在一个 epoch 内提议多个区块。区块提议者身份的确定会如何改变 MEV 价值提取的动态？以及如果确定将在一个区块内提议多个区块，这将如何影响 MEV 提取的动态？特别是，大型验证者池 / 交易平台最有可能在同一 epoch 内拥有（被分配到）多个连续的 slots。</p>
<p><strong>4. Layer 2s &amp; 分片</strong></p>
<p>本文的大部分内容都假设 eth1 的区块内容将保持今天的状态。然而，在现实中，很多交易流将被转移至 L2s 中进行，以太坊 Layer 1 将用作数据可用性层，zk-rollups 和 optimistic rollups 将负责把批量打包的交易数据提交至 Layer 1 上。</p>
<p>这将直观地减少验证者从 MEV 中获得的收益 。然而，这是很难预测的，因为多个 Layer 2s 的世界带来了额外的复杂性，可能会打开新形式的 MEV （也即跨 Layer 2 交易，跨 Layer 1-Layer 2 交易）。类似地，随着 eth2 的不断发展和分片的投入生产，信标区块内的分片排序可能会有重要意义，MEV 可能会成为实现 Vitapk 提议的「将分片区块错开以实现更快的出块时间」[5] 的激励机制。</p>
<blockquote>
<p><em>感谢 Terence Tsao、Rap Jordan、Alejo Salles、Luke Youngblood、Tomasz Stanczak、Lakshman Sankar、Barnabe Monnot、Caspar S 和 Viktor Bunin 对本文的宝贵贡献和编辑。也要感谢 Flashbots 团队的其他成员进行的讨论。</em></p>
</blockquote>
<p>正文中涉及的链接：</p>
<p>1:<br>
<a href="https://ethresear.ch/t/eth1-eth2-cpent-relationship/7248">https://ethresear.ch/t/eth1-eth2-cpent-relationship/7248</a></p>
<p>2:<br>
<a href="https://github.com/ethereum/rayonism/blob/master/specs/merge.md#assblockquoteble-block">https://github.com/ethereum/rayonism/blob/master/specs/merge.md#assblockquoteble-block</a></p>
<p>3:<br>
<a href="https://dashboard.flashbots.net/">https://dashboard.flashbots.net/</a></p>
<p>4:<br>
<a href="https://hackmd.io/@flashbots/quantifying-REV">https://hackmd.io/@flashbots/quantifying-REV</a></p>
<p>5:<br>
<a href="https://ethresear.ch/t/simple-approach-to-incentivizing-shard-staggering/914">https://ethresear.ch/t/simple-approach-to-incentivizing-shard-staggering/914</a></p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/24221/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">DeFi之道丨一文了解矿工可提取价值（MEV），如何实现交易利益最大化？</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/24211/">
                <span class="next-text nav-default">Filecoin 的Gas 费用能降到什么程度？</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#01-eth2-概述">01. eth2 概述</a></li>
    <li><a href="#02-eth2-中的-mev">02. eth2 中的 MEV</a></li>
    <li><a href="#03-验证者的奖励机制">03. 验证者的奖励机制</a></li>
    <li><a href="#05-开放式问题">05. 开放式问题</a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.308d1186d284e0b3f5e6187c85ea0a927fdc75459dbd958fc0fb1f4400ed52ee.js" integrity="sha256-MI0RhtKE4LP15hh8heoKkn/cdUWdvZWPwPsfRADtUu4=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
