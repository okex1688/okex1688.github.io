<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          首发 | 火币研究院：未来可期：详解Rollup技术、应用与数据 - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="Rollup的技术方案承袭了其他Layer2前辈们，如闪电网络、Plasma等解决方案的思路。" />
<meta name="keywords" content="Rollup" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/25724/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="首发 | 火币研究院：未来可期：详解Rollup技术、应用与数据" />
<meta property="og:description" content="Rollup的技术方案承袭了其他Layer2前辈们，如闪电网络、Plasma等解决方案的思路。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/25724/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-07-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-07-13T00:00:00+00:00" />

<meta itemprop="name" content="首发 | 火币研究院：未来可期：详解Rollup技术、应用与数据">
<meta itemprop="description" content="Rollup的技术方案承袭了其他Layer2前辈们，如闪电网络、Plasma等解决方案的思路。"><meta itemprop="datePublished" content="2021-07-13T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-07-13T00:00:00+00:00" />
<meta itemprop="wordCount" content="25365">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="首发 | 火币研究院：未来可期：详解Rollup技术、应用与数据"/>
<meta name="twitter:description" content="Rollup的技术方案承袭了其他Layer2前辈们，如闪电网络、Plasma等解决方案的思路。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">首发 | 火币研究院：未来可期：详解Rollup技术、应用与数据</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2021-07-13">
      2021-07-13
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 25365 字 -
        预计阅读 51 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E6%8A%80%E6%9C%AF/"> 技术 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p><strong>摘</strong>  <strong>要：</strong></p>
<p>2020年爆发的DeFi热潮将链上活跃度推至新高度，也将公链面临的性能问题直接放在了大众眼前。作为目前拥有最大生态的以太坊Gas Price飙升，在相当长的时期内维持在100 Gwei以上，让以太坊获得了“贵族链”的戏称。虽然近期以太坊Gas Price有所下降，但也无法改变冗余存储和冗余计算带来的效率下降的问题。在诞生的各类效率提升的技术中，Layer2赛道下的Rollup技术无疑是当前解决方案中最为亮眼的。</p>
<p>Rollup的技术方案承袭了其他Layer2前辈们，如闪电网络、Plasma等解决方案的思路。但最为关键的还是其将二层数据再反存到一层的思路。这一思路与以前所有的Layer2方案都不同，成为了Rollup技术解决用户使用二层时可用性、易用性问题以及衍生的安全性问题等的关键。</p>
<p>围绕Rollup技术，诞生了不少优秀的解决方案团队，本文着重介绍了其中四个——Matter Labs、Optimism、Offchain Labs以及Starkware。他们在ZK Rollup、Optimistic Rollup以及混合Rollup上做出了诸多尝试，成为Rollup技术体系在不同方向上落地的主要推动团队。除了技术解决方案团队之外，也有不少团队在摸索具有Rollup特色的应用，如Layer2世界的公交车Layer2.finance、减缓Layer2带来的流动性分割问题的Caspian以及帮助Optimistic Rollup用户实现快速提款的Dai Bridge等，本文也将对这些应用方案做探讨。</p>
<p>从数据表现来看，由于Layer2(数据统计不包括侧链)方案应用场景尚未铺开，目前整体Layer2上的锁仓资金不到Defi整体锁仓的3%，而Rollup占据了其中的近1/3。目前，Optimistic Rollup的落地已经近在咫尺，通用的ZK Rollup系方案还需要一段时间。Op系的技术有望将以太坊TPS提升至500上下，ZK系则能有100倍左右的提升，也有一些混合Rollup方案其理论TPS能达到2万。</p>
<p>总体而言，Layer2是公链发展的必由之路，而Rollup技术则是目前为止Layer2技术中将易用性、安全性、扩展性、通用型等的平衡做的最好的技术。未来几个月，我们也将看到Rollup的解决方案和应用大规模落地，值得期待！</p>
<p><strong>作 者</strong>   </p>
<p>【火币研究院】赵文琦，陈晗，袁煜明</p>
<p><strong>作者联系方式</strong></p>
<p>火币研究院：huobiresearch@huobi.com </p>
<p>目录</p>
<p>一、 Rollup概述</p>
<p>1.1 什么是Rollup？</p>
<p>1.2 如何演进出Rollup？</p>
<p>二、 Rollup技术核心要点</p>
<p>2.1. Rollup如何运转？</p>
<p>2.2. 如何实现交易压缩？</p>
<p>2.3. 如何将二层的状态转换同步到一层？</p>
<p>2.4. 如何防止二层运营者欺诈？</p>
<p>三、 主要技术团队分析</p>
<p>3.1 MatterLabs</p>
<p>3.1.1. 项目进展</p>
<p>3.1.2. 技术方案</p>
<p>3.1.3. 特点</p>
<p>3.1.4. 应用</p>
<p>3.2 Optimism</p>
<p>3.2.1 项目进展</p>
<p>3.2.2 技术方案</p>
<p>3.2.3 特点</p>
<p>3.2.4 应用</p>
<p>3.3 Offchain Labs</p>
<p>3.3.1. 项目进展</p>
<p>3.3.2. 技术方案</p>
<p>3.3.3. 特点</p>
<p>3.3.4. 应用</p>
<p>3.4 Starkware</p>
<p>3.4.1. 项目进展</p>
<p>3.4.2. 技术方案</p>
<p>3.4.3. 特点</p>
<p>3.4.4. 应用</p>
<p>四、 应用方案解读</p>
<p>4.1. Celer：Layer2.finance</p>
<p>4.1.1. 解决的问题</p>
<p>4.1.2. 方案</p>
<p>4.1.3. 优势</p>
<p>4.1.4. 局限</p>
<p>4.2. Starkware：Caspian</p>
<p>4.2.1. 解决的问题</p>
<p>4.2.2. 方案</p>
<p>4.2.3. 优势</p>
<p>4.2.4. 局限</p>
<p>4.3. MakerDAO：Dai Bridge</p>
<p>4.3.1. 解决的问题</p>
<p>4.3.2. 方案</p>
<p>4.3.3. 优势</p>
<p>4.3.4. 局限</p>
<p>五、 数据表现</p>
<p>5.1 开发进度</p>
<p>5.2 资金数据</p>
<p>5.3 实际性能</p>
<p>六、 总结与展望</p>
<p>参考文献</p>
<h2 id="一rollup概述">一、 <strong>Rollup概述</strong></h2>
<h2 id="11什么是rollup">1.1 <strong>什么是Rollup？</strong></h2>
<p>在链下的世界中，人们习惯了高速的交易、即时的确认、海量的存储，集中和信任带来效率。进入链上，基于代码控制和博弈机制的运转的分布式系统实现了分散和去信任，存储冗余和计算冗余成为保障系统安全性的重要手段。但冗余不可避免地带来成本提升和效率降低，链上应用的体验让用户产生时代倒退的感觉。为此，也诞生了各类提升区块链运转效率的改进方案。</p>
<p>链上改进方案中包括了扩展区块大小、改变共识算法、分片等等。虽然链上的改进方案在当前的区块链技术发展阶段还没有完全展现出在提升效率上的实力(如ETH2.0的分片还在开发中)，但其都<strong>无法改变在区块链上为了安全性必须要承受冗余存储和计算的约束的现状</strong> 。而这一约束可以被链下的改进方案打破。将存储和计算转移到链下，并设计机制保障链下存储和计算的可信与安全是链下扩展方案的核心。Rollup就是链下方案中的一类。</p>
<p>那么，Rollup是什么？国内通常把它翻译成“卷叠”，读起来有点怪但是还是十分形象，打包为卷、压缩为叠，<strong>链下的交易数据打包压缩后传到链上存储</strong> ，Rollup就是对符合这一特征的一类Layer2技术的总称。与此相关的一个趣事是Matter Labs公开称ZKSwap并不是Rollup，只是一个Validium，因为当时的ZKSwap未满足这一特征。</p>
<h2 id="12如何演进出rollup">1.2 <strong>如何演进出Rollup？</strong></h2>
<p>在Rollup之前，Layer2已经有了几代技术。但是由于<strong>去信任化、安全性、易用性或者通用性方面的问题</strong> ，都没有成为被广为接受的方案。Rollup技术的出现成为打破这一局面的关键。</p>
<p>图1-1 Layer2技术演进</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_zbc9ntnlly.png" alt="KtZa4tacOG2aI7mB6kgcbDHVDD3essTSaaatTARh.png" title="5413344">来源：火币研究院</p>
<p>最早的Layer2是<strong>侧链</strong> 技术，其发展一直不温不火，最近由于Polygon的崛起引来了很多讨论。但，如Polygon一类的侧链的运行基础是信任一组验证者，<strong>这类有强信任假设的方案，在没有易用的无信任假设的方案诞生前，可以被作为一种折中方案应用，但绝不是最终的最优方案</strong> 。另外，业界对于将侧链归类于Layer2是持怀疑甚至是质疑态度的，<strong>原因在于侧链不会保持向主链同步状态变更，更接近一条独立的链，一个新的Layer</strong> <strong>1</strong> 。</p>
<p><strong>闪电网络</strong> 是最早的尝试无信任假设的Layer2解决方案之一。他通过RSMC和HTLC技术分别解除了对交易对手方的信任依赖和对资金路由节点的信任依赖。即，用户无需假定交易对手方和转发资金的中间节点是不会作恶的。但是这种方案在<strong>安全性、易用性、通用性</strong> 上都付出了代价，限制了该项技术的应用推广。</p>
<p><strong>Plasma</strong> 是闪电网络之后出现的技术。<strong>其模型兼有侧链和闪电网络的特点。</strong> Plasma与闪电网络的不同在于链下交易的传递、组织和提交形式。闪电网络链下交易的传递基于以状态通道连接而成的网络，交易存储在交易双方的状态通道中，通道中的交易对手方均可自行提交通道中的交易带来的状态变更。但<strong>Plasma选择了与侧链更为接近的交易传递和组织形式</strong> ，会有Layer2的运营者负责接收交易、组织存储(在Plasma Cash方案中，需要用户自己存储一部分交易信息)和将状态变更提交上链。然而，侧链是基于信任的模式，用户侧链上的运营者(或者说矿工)不作恶。<strong>在去信任化上，Plasma沿袭了闪电网络使用欺诈证明的思想</strong> ，通过设置挑战期和激励博弈来防止作恶。但是，Plasma同样存在<strong>安全性、易用性、通用性</strong> 上的问题，现今基本是一条已经被放弃作为独立Layer2的技术路线。</p>
<p>Rollup方案仍然<strong>保留了Plasma借用二层的运营者来接收、存储和提交状态变更的思想</strong> ，但考虑到此前方案中将数据存储在链下的思路衍生出了安全性和易用性问题，而直接将数据存储在链上无法实现效率提升，因此诞生了将<strong>数据压缩上链的思路</strong> 。<strong>交易数据上链后最直接解决的是用户易用性的问题</strong> ，链上的数据是公开透明的，意味不再需要为了防欺诈而要求用户做出一些十分伤害体验的行为，如保持一定的上线频率以及自行保存用于自证清白的数据(闪电网络和Plasma都有此要求)。同时，数据上链也间能接解决了一些可能衍生的安全问题，如闪电网络瞭望塔隐私泄露、Plasma上的批量退出等在Rollup的场景下是不需要被考虑的。</p>
<p>图1-2 如何演进出Rollup</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_hsblw80nvh.png" alt="ZxPdneoaR5ZtVM8k7Py5OybFhu8zlxAU6me4juKk.png" title="5413345"></p>
<p>来源：火币研究院</p>
<p>因此，演进至今，Rollup其实是借鉴吸收了过往众多方案思想并融合了其特有的链上压缩存储思路。在当前来看，Rollup无疑是Layer2方案中最受期待的。在其</p>
<p>即将落地之时，希望通过本文梳理Rollup当下的技术、应用与数据。</p>
<h1 id="二rollup技术核心要点">二、 <strong>Rollup技术核心要点</strong></h1>
<p>在上一章中，我们介绍了什么是Rollup以及Layer2的思想如何演进传承直至诞生了Rollup。在本章，我们将深入介绍Rollup技术的核心要点。不同Rollup技术路线、同一技术路线下的不同团队在将Rollup具体落地时会各有差异，因此本小节主要针对Rollup共性的思想进行介绍。</p>
<h2 id="21r-ollup-如何运转">2.1. <strong>R</strong> <strong>ollup</strong> <strong>如何运转？</strong></h2>
<p>如下图2-1所示，是Rollup运转原理的示意图。在Layer2上，用户的各种交易会被发送给二层的运营者。运营者会将一批交易进行压缩。压缩成为一笔交易后，调用链上的处理合约进行处理。这笔调用交易就会像其他的Layer1的交易一样进入交易内存池。在Layer1上，矿工会接收一层网络中所有的交易并打包成区块发布，这其中就会包含由二层打包上来的交易。</p>
<p>图2-1 Rollup运转原理</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_9pq6wz1q6g.png" alt="nfxYsfMViIMeGE8B1QCFgkBH3zr1G9CR29d3YIZw.png" title="5413353"></p>
<p>来源：火币研究院</p>
<p>虽然不同Rollup的具体实现会不一样，但均需要解决三个共性的问题：<strong>如何实现交易压缩、如何将二层的状态转换同步到一层以及如何保证二层运营者如实提交了二层的所有状态转换</strong> 。我们将在下面三个小节分别讨论。</p>
<h2 id="22如何实现交易压缩">2.2. <strong>如何实现交易压缩？</strong></h2>
<p>关于为什么要将数据上链，在上一章中已经有阐述。<strong>上链后，二层交易数据在链上的数据可用性(或者说数据有效性、数据可获得性</strong> <strong>)</strong> <strong>能得到保障</strong> 。但数据如果原样上链，是难以达到通过二层提升效率的目的的，所以会进行压缩。讲到压缩，大家通常的理解是对占用字节数的压缩，也就是体积上的压缩，其实不然。<strong>压缩主要是对交易消耗Gas数的压缩，因为以太坊上的区块限制是以Gas为限制而不是字节数</strong> ，更小的字节数对应着更小的存储占用，但不等同于更小的Gas消耗。Rollup中的压缩，<strong>一方面确实压缩了交易占用的字节数，另一方面也会减少交易执行的计算量以降低Gas消耗</strong> 。</p>
<p>交易字节数的压缩的方式主要包括使用效率更高的编码方式、缩减交易占用字节数、减少需要上传的数据等。</p>
<p>图2-2 交易压缩</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_fkacyoezso.png" alt="Adsre0kDe2wLXqq3qH8JB6bY6PGpjtjpqFrxw3t6.png" title="5413354"></p>
<p>来源：Vitalik博客，https://vitalik.ca/general/2021/01/05/rollup.html</p>
<p>图2-2 是Vitalik归纳的交易在以太坊一层和在Rollup上占用的字节数。虽然各团队在最终实现时与Vitalik归纳的并不完全相同，但思路是一致的，因此我们在本文中仍然引用Vitalik的归纳。</p>
<p>首先，在二层的交易中，Nonce可以在交易中被省略；Gas相关的Gasprice和Gas也不必出现在每笔二层交易中；To和From地址不需要使用以太坊的地址，而是使用其在状态树中的索引(如图2-3所示，二层的账户可以由一棵Merkle树来组织)；Value可以使用科学技术法存储节省位数；对于签名，可以将一个批次中的交易签名进行聚合，降低每个交易的签名存储消耗。同时，这些交易数据会被存储在链上gas成本比较低的字段Calldata中。</p>
<p>值得说明的是，上传的一层的数据<strong>不仅仅是上述的交易内容</strong> ，还会包含<strong>批次交易发生前后的状态根</strong> (图2-3中的State Root)，以及<strong>用于证明(或用于备查</strong> <strong>)</strong> <strong>状态转换合法性的数据</strong> 。ZK Rollup系的技术能比Optimistic Rollup系技术取得更好的压缩效果，一个重要的原因就是ZK需要上传的交易数据比Op少，Op为了方便验证者挑战需要上传一些中间状态信息，但ZK只需要针对批次的交易上传证明信息。</p>
<p>图2-3 状态树</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_3dpy6s188b.png" alt="EKynessMuMnRDXAugzwVrHJZP4UvBAxtTB4EYWbw.png" title="5413358"></p>
<p>来源：火币研究院</p>
<p>除了压缩交易占用字节数以外，Rollup中交易的计算量也会比直接在一层上执行要少，因为交易不必在一层上重新执行，只需要验证二层运营者提交的状态转换是否正确。对于ZK来说，主要来自于验证状态转换证明(零知识证明)是否合法；而对于Op来说，主要来自于欺诈交易的挑战消耗。</p>
<p>目前，经过压缩后，在理论上，ZK系技术能带来的吞吐量提升在100倍上下，而Op在30倍左右。</p>
<h2 id="23如何将二层的状态转换同步到一层">2.3. <strong>如何将二层的状态转换同步到一层？</strong></h2>
<p>上一小节在讲交易压缩时提到二层运营者除了提交交易信息外，还会提交批次交易发生前后的状态根。这个状态根与以太坊一层的状态树的状态根类似，是账户状态的归集。</p>
<p>如图2-3所示，Rollup的状态可以用Merkle树来组织，叶子节点为账户状态，中间节点存放层层向上进行哈希计算的信息，根节点是最终的哈希值，是二层所有账户状态的摘要。</p>
<p>如图2-4所示，是批次交易发生前后的状态转移示意图。二层的交易会改变交易相关的账户的状态，引起叶子节点的信息变动，最终导致根哈希值的变动。二层的运营者会在本地维护二层账户的状态树，记录批次交易发生前后的根哈希值，在上传批次交易时将此二哈希值一并上传。</p>
<p>图2-4 Rollup的状态转移</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_bpc2ctsret.png" alt="M7iVLGOLwQCyamh7Bf1G4Xe3P88eSPfsBM3iUixJ.png" title="5413360"></p>
<p>来源：火币研究院</p>
<h2 id="24如何防止二层运营者欺诈">2.4. <strong>如何防止二层运营者欺诈？</strong></h2>
<p>既然，交易信息、状态转换信息都由二层运营者上传，如何阻止运营者上传虚假信息呢？这个问题对于所有要和主链进行状态同步的Layer2来说都存在。</p>
<p>Rollup诞生之前的闪电网络和Plasma采用的均是<strong>欺诈证明</strong> 的方式，而Op系技术承袭二者思想同样使用了该方式。即，在运营者提交信息时不做关于状态转换合法性的校验，但是会为该批次的交易的提交预留挑战期。如果在挑战期内，无人对其合法性做出挑战则交易被确认；若有，则挑战者需提供欺诈证明，证明运营者作恶。</p>
<p><strong>欺诈证明是相对容易的实现方式(相比后面要提到的有效性证明</strong> <strong>)</strong> <strong>，但带来的代价是用户体验和资金效率的牺牲。</strong> 在没有保证链上数据有效性的闪电网络和Plasma的方案中，需要用户保证一定的在线频率(也叫做用户活性)来防止欺诈，同时，用户资金无法及时取出需要等待挑战期结束。<strong>在Optimistic</strong>  <strong>Rollup下，虽然也是使用欺诈证明，但对用户体验和资金效率伤害的情况有所改善。</strong> 由于数据上链，挑战者可以由除用户外的第三方提交，降低了对用户活性的假设大幅改善体验。另外，Op方案下，虽然仍然存在挑战期，但是对于非欺诈的交易，交易的最终性是可以预期的，Op的使用者可以自行搭建验证节点快速验证交易合法性而不必等到挑战期结束，虽然交易仍然要等到挑战期结束后才能被主链确认，但其最终性可以被快速确认，利用这一点流动性提供商可以提前为用户释放资金流动性。不过，这种解决方案并不是内嵌在Op之中，需要依赖应用解决方案。</p>
<p>相比于欺诈证明，更有技术挑战性的防欺诈方式是要求二层运营者提供<strong>有效性证明，即，二层运营者直接证明其提交的状态转换是有效的</strong> <strong>(</strong> <strong>正确的</strong> <strong>)</strong> <strong>，自证清白</strong> 。这也是ZK Rollup系方案使用的方式。在该种方式下，提交即正确，用户不必担心欺诈，提取资金也不会有冻结期。方案近乎完美，美中不足是太难，以致于在很长一段时间内，ZK系解决方案只能针对一些特定的操作生成证明，无法通用。但随着密码学技术理论和实践的突破(PLONK、多项式承诺等)，通用的ZK解决方案已经近在眼前了。</p>
<h1 id="三主要技术团队分析">三、 <strong>主要技术团队分析</strong></h1>
<p>上一章我们介绍了Rollup技术的核心要点，这一章，我们将对数个代表性的Rollup团队及他们的解决方案进行梳理。同时，对于每一个方案，我们也将从Rollup所关注的<strong>安全性、退出时间、用户活性假设、通用性、计算量、复杂度、吞吐量提升</strong> 等方面进行分析，以进一步理解Rollup技术。</p>
<h2 id="31matterlabs">3.1 <strong>MatterLabs</strong></h2>
<p>Matter Labs的二层解决方案zkSync是ZK Rollup技术路线的头部项目。当前的主网版本承载的资金量超过9百万美元，二层的单笔交易手续费可以低至$0.001(但目前在$0.1级别)。不过虽然其理论吞吐量可达数千，由于需求不足，实际运行的TPS小于0.1。同时，提现时间现在仍在小时级别。</p>
<p>这些数据一定程度上反映了ZK系解决方案在当前表现并不良好，但这种不良好更多是由于当前整个二层的发展阶段和ZK系技术尚有瓶颈待突破造成的。Matter Labs在ZK Rollup技术路线上处于绝对领先的地位，其兼容EVM的虚拟机也将是ZK系技术迈向下一个阶段的里程碑。</p>
<h3 id="311项目进展">3.1.1. <strong>项目进展</strong></h3>
<p>Matter Labs基于密码学证明开发出zkSync解决方案，该方案于2020年7月上线主网，2021年5月份将上线zkSync1.x版本，并且将在2021年5月份上线2.0版本的公开测试网，8月份上线主网。</p>
<p>1.0版本支持资产转账，不支持通用智能合约；1.x版本支持NFT原子交换和铸造等功能；2.0版本将使用ZK Rollup和zkPorter混合账户架构，该架构支持两种账户的完全互操作，支持图灵完备的ZincVM，可移植现有的Solidity源代码，原生支持所有以太坊钱包，并且其开发中的zkPorter，通过放弃链上数据可用性，带来TPS的大幅提升，远超ZK Rollup 2000的理论值，可达到20,000笔以上。</p>
<h3 id="312技术方案">3.1.2. <strong>技术方案</strong></h3>
<p>当前zkSync的主网版本是以ZK Rollup技术为核心的，其解决方案思路和前两章介绍的ZK Rollup的思路基本一致我们不再赘述。但Matter Labs官方在四月中旬发文再次着重介绍的zkPorter的解决方案值得关注。</p>
<p>纯Rollup的技术解决方案最重要的特点是保证了链上的数据可用性，而链上数据可用性能免除对用户活性的要求，大幅提升用户体验和可用性，但随之带来的是有限的扩展性。因为链上每个区块有gas上限，<strong>所以理论上，所有保证链上数据可用性的技术方案都会有扩展性的上限，只能带来线性的提升</strong> 。</p>
<p>为了同时免除对用户活性的假设并大幅提升扩展性，<strong>zkPorter将数据存放在链下以绕开gas limit导致的十分有限的吞吐量的上限，同时，对于所有交易，其状态转换的证明仍旧会提交到链上，由链下的守护者进行验证</strong> 。zkPorter中还有一个重要的点是<strong>引进了分片</strong> ，ZK Rollup所在的分片是基础分片，其余所有的分片可以由用户自行决定数据可用性方案，这些分片的可用性可以由zkSync的守护者来维护，也可以由该分片上的协议自行维护。<strong>在该种架构下，TPS可以提升至2w，手续费也可再降低十倍</strong> (如图3-1)。</p>
<p>图3-1 zkPorter数据表现</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_s1an5omdmi.png" alt="uGz3qIXF3ikoTYTAGNi8bozA4uQdBilToigbRdZR.png" title="5413380"></p>
<p>来源：Matter Labs官方文档</p>
<h3 id="313特点">3.1.3. <strong>特点</strong></h3>
<p><strong>安全性高，没有资金体量上限</strong> 。Rollup部分具备与Layer1同等的安全性，同时二层的承载资金量的增加不会降低二层的安全性。Layer1上的数据有效性和零知识证明是zkSync解决方案的关键。智能合约可基于Layer1上的状态、数据和证明自动化验证交易的有效性，没有其他安全性假设。</p>
<p><strong>退出时间相对较短。</strong> 当前zkSync实际退出时间最长需要数小时，但理论退出时间是在15分钟左右的。主要原因是当前二层的交易数量不多，延长推出时间可以降低每笔交易需要平摊的手续费。即便如此，相比使用欺诈证明类型的技术方案(如Op Rollup、Plasma、闪电网络等)数周的推出时间，仍然是相对较短的。</p>
<p><strong>无用户活性假设。</strong> 由于该技术方案保证了Layer1上的数据可用性，并且所有交易都有有效性证明，因此不需要用户保证一定的上线频率来防欺诈。</p>
<p><strong>通用性差，暂不支持通用的智能合约。</strong> 当前版本的zkSync仅支持充提和转账，能力过于有限导致当前zkSync没有太多应用场景，整体的锁仓量在zk系的方案中表现并不亮眼。这是整个ZK Rollup技术路线当前面临的共性问题，即仅支持专用型的操作。但是，zkSync团队当前正在研究EVM兼容以及实现通用的智能合约，并且团队预计在今年即可上线支持通用智能合约和EVM的2.0版本。</p>
<p><strong>计算量大。</strong> 对每笔交易，除了要计算每笔交易本身带来的状态转换之外，还需要生成相应的状态转换证明，生成证明的过程需要消耗大量的计算资源。相较而言，其他如闪电网络、Plasma、Op Rollup省去了这部分的计算资源消耗。同样的交易，zksync的二层运营商成本会高于op系列解决方案的成本，但在当前二层利用率并不高的情况下该资源消耗并未成为zksync发展的重要挑战。如果基于ZK Rollup的二层应用场景增长，专用的证明器或者定制化的硬件也可以缓解该问题对资源消耗和用户体验带来的影响。另外，zkPorter的方案也为低计算量和更高的tps提供了解决方案。</p>
<p><strong>复杂度高。</strong> 由于零知识证明技术的复杂性，普通的应用开发团队几乎不能应用ZK Rollup的方案去迁移和开发应用。兼容EVM的ZK Rollup方案会大大改善这一问题，但是其代码的复杂度也会大幅上升，代码的审计会比OVM的难度高很多，对该ZincVM的安全性和鲁棒性的验证可能需要经数年的考验。</p>
<p><strong>Rollup</strong> <strong>部分吞吐量提升有限，但</strong> <strong>zkPorter</strong> <strong>部分吞吐量有望巨幅提升。</strong> 由于一层区块gas limit的上限限制，Rollup技术的吞吐量提升无法与其他不保证链上数据有效性的Layer2方案相比。但Matter Labs团队也意识到了这个问题，提出了新的zkPorter的方案以巨幅提升TPS。</p>
<h3 id="314应用">3.1.4. <strong>应用</strong></h3>
<p>目前，zkSync作为ZK Rollup技术的头部解决方案受到许多生态应用方的关注，如Curve已经在以太坊测试网上集成zkSync，imToken与zkSync达成深度合作并将在钱包中支持zkSync，SushiSwap和Argent已选择将zkSync作为最终落地的扩容方案。但由于当前zkSync支持的操作有限，实际完成集成和应用的还很少，主要集中在支付领域。如Gitcoin、Storj、Golem等均集成zkSync作为支付方式之一。这些应用场景相比繁荣的一层的生态在实用性和资金回报上都相去甚远，也这就导致了zkSync实际的吞吐量仅在0.05 tx/s左右。</p>
<h2 id="32optimism">3.2 <strong>Optimism</strong></h2>
<p>如同Matter Labs是ZK Rollup技术的头部团队，Optimism是Optimistic Rollup技术路线的头部团队。该团队脱胎于原本研究Plasma技术的Plasma Group团队，后放弃Plasma转向Optimistic Rollup。</p>
<p><strong>其提出的OVM为降低一层到二层的代码迁移成本提供了重要的思路，便捷的代码迁移是生态快速融合的基础。</strong> 虽然其主网还未上线，但是Synthetix已经在其基础上运行，目前承载资金量超过1亿美金，单笔交易的费用可以低至$0.07左右。吞吐量方面，Optimistic Rollup技术方案的理论值在500左右。</p>
<p>数据表现尚不强劲的主要原因是Optimism目前还处于有限访问的阶段，只针对部分已授权的应用开放少许功能测试，但其对于通用智能合约较好的兼容性仍然受众多项目方的青睐。从短期看，它的应用场景会更加广阔。</p>
<h3 id="321项目进展">3.2.1 <strong>项目进展</strong></h3>
<p>Optimism基于Optimistic Rollup的技术提出了OVM并且构建了Optimistic Ethereum。其在2021年1月开启Optimistic Ethereum主网的软启动（试运行）。随后在3月份，Synthetix开始了向OE的迁移，目前已经能在Synthetix上进行Layer2上的staking，但其更核心的合成资产和交易的业务尚未部署到主网上。预计在2021年7月，OE会上线公共主网。</p>
<h3 id="322技术方案">3.2.2 <strong>技术方案</strong></h3>
<p>Optimism的Optimistic Ethereum是对Optimistic Rollup的代表性实现，其技术核心思想在前两章有过深入讨论这里不再重复，但需要针对其OVM做特别说明。</p>
<p><strong>Optimism支持在二层扩容网络上使用OVM，一方面兼容以太坊虚拟机最大程度保障通用性，另一方面做了一些适应性调整保障OVM可以实现Optimistic Rollup的机制。</strong> 这些调整主要包括三个方面，第一方面是调整虚拟机中的一些操作码，来保证程序在一层和二层执行的时能得到相同的结果，例如对TIMESTAMP、ADDRESS等操作码的调整；第二方面是调整了编译器，保证Solidity编写的程序能被正确编译成OVM支持的操作码；第三方面是修改Geth客户端，让其兼容OVM对交易的处理方式。</p>
<h3 id="323特点">3.2.3 <strong>特点</strong></h3>
<p><strong>安全性弱于一层。</strong> 欺诈证明路线的方案，依赖于一层的抗审查性。如果二层交易的资金量很大，可能会诱使一层的矿工发起51%攻击，审查挑战交易，导致二层作恶的排序者提交的虚假交易无法被成功挑战。</p>
<p><strong>退出期长，资金效率低。</strong> Op Rollup基于经济激励的博弈模型使得交易在挑战期结束以前不具有确定性，并且无法运行全节点的终端用户无法提前验证交易的确定性。因此Op Rollup相较ZK Rollup的验证时间长，PoW共识机制下的挑战窗口期约为2周，PoS共识机制下的挑战窗口期为1周。</p>
<p><strong>无用户活性假设，但需要验证者。</strong> Optimism 团队的解决方案保一层上数据的可用性，虽然仍然需要监控一二层状态防止欺诈，但不需要用户自行监测，可由第三方的验证者代替。</p>
<p><strong>灵活性高，支持通用智能合约。</strong> Optimistic Ethereum是第一个无需大规模重写智能合约即具有完整跨层移植功能的Rollup解决方案，即以太坊上的应用的合约代码迁移成本非常低。因此，在短期成为了众多应用团队关注和选择的解决方案。</p>
<p><strong>计算开销较低、一层</strong> <strong>gas</strong> <strong>消耗较低。</strong> 该解决方案中的的状态转换的有效性不需要在一层主动验证，相比于ZK系的解决方案能节省大量的验证的gas消耗。并且省去了在二层生成证明的计算开销。</p>
<p><strong>吞吐量提升十分有限。</strong> 纯Rollup系的技术，对吞吐量的提升由于受限于一层区块的gas limit，本身就十分有限，加之Op需要提供更多的中间状态数据便于挑战，所以只能带来几十倍的吞吐量提升，是各类二层技术中提升最为有限的方案。</p>
<h3 id="324应用">3.2.4 <strong>应用</strong></h3>
<p>虽然基于Optimistic Rollup的Optimistic Ethereum在安全性和资金效率上都不如ZK系的技术，但由于其兼容EVM的解决方案有望成为Rollup系技术中最先落地的，许多团队采用其作为下一个阶段的扩容解决方案。当前，Synthetix已在Optimistic Ethereum上实现质押服务，Uniswap也一直在与其合作推进二层的落地，在近期也宣布了将在其上推出alpha版本。。Volmex在Optimism本地测试网上开发应用并进行OVM部署，IDEX上线低延迟、高TPS的2.0版本， MakerDAO为Optimism提供二层DAI快速提款方案以缩短提款时间至几分钟，Compound预计选择Optimistic Rollup，Saddle未来将智能合约迁移至Optimism上。</p>
<h2 id="33offchain-labs">3.3 <strong>Offchain</strong>  <strong>Labs</strong></h2>
<p>Arbitrum方案是由Offchain Labs提出并创建的，最早是一个纯粹的研究型学术项目，后经过不断优化和改进，逐渐转入实践。</p>
<p>该方案也是基于Optimistic Rollup的解决方案，通过经济激励的博弈模型维护安全性并通过欺诈证明来维护交易有效性，<strong>主要区别在于挑战机制和实现形式。</strong> 目前，Arbitrum主网还未上线，但已经在以太坊的主要测试网中运行了一段时间，性能表现良好。测试案例的数据显示，其最优吞吐量在几百左右，挑战期只有数十分钟。只不过，挑战时间设置的较短可能会带来一些安全问题，还有待技术团队来进一步解决和完善。</p>
<h3 id="331项目进展">3.3.1. <strong>项目进展</strong></h3>
<p>截至目前，Arbitrum测试网已经平稳运行了约六个月。2021年3月，Offchain Labs团队更新了第四个测试网版本，并将其选定为主网的候选版本。5月28日，其主网测试版Arbitrum One已经向开发者开放。如果不出意外，其公共主网将于2021年内上线。根据Arbitrum的路线图，团队下一步的工作是主网的正式上线。为此，团队正在和多个项目方积极合作，共同进行网络的集成、审计和压力测试。</p>
<p>按照目前的进展来看，<strong>Arbitrum有可能反超Optimistic Ethereum成为以太坊上第一个落地的通用型Rollup，这对于整个以太坊生态和Rollup来说都是重大的突破</strong> 。</p>
<h3 id="332技术方案">3.3.2. <strong>技术方案</strong></h3>
<p>Arbitrum技术方案的设计与Optimism类似，与可兼容以太坊智能合约，并可通过欺诈证明和经济博弈的方式维护交易有效性，二者的主要区别在于挑战机制。Optimism只需要排序者和验证者执行一次欺诈证明交互即可判断出结果，<strong>而Arbitrum认为一次交互可能导致欺诈证明需要包含大量的交易从而超出gas限制，并且提出欺诈证明是由于单条指令执行异常导致，无需执行全部的指令。</strong> 因此，Arbitrum将欺诈证明分为多轮步骤，只需要证明排序者在执行某条指令时出现异常，即可证明排序者作恶，节省成本。</p>
<h3 id="333特点">3.3.3. <strong>特点</strong></h3>
<p>Arbitrum的方案与Optimism Rollup的主要特点是一致的，我们不再赘述，主要可以关注欺诈证明机制的变化带来的改变。</p>
<p><strong>多轮欺诈证明交互。</strong> Arbitrum采用多轮欺诈证明验证交易的有效性，降低单次挑战需要消耗的gas，不必担心gas费用超出限制。</p>
<p><strong>对EVM的兼容性更强。</strong> 虽然Optimism团队的OVM对EVM兼容，但其实不是100%兼容，已有的项目从一层迁移过来仍然需要修改代码，Arbitrun团队的方案则是几乎100%兼容。</p>
<p><strong>多步交易可能存在安全性问题。</strong> Arbitrum交易的有效性验证需要多轮交互，内置虚拟机需要支持异步机制，该机制更加复杂，代码量更大，可能存在安全问题。3.3.4. <strong>应用</strong></p>
<p>由于Arbitrum落地预期强烈，当前已经有众多应用都宣布支持Arbitrum的生态。包括Uniswap、Sushiswap、MCDEX、Bancor、ImToken等。其中，Uniswap社区已经投票通过将V3部署在Arbitrum上；去中心化永续合约交易所MCDEX推出的无需许可即可创建合约V3版本已登录Arbitrum测试网中，与开发团队协同推进方案的测试和应用；同时，MCDEX V3也计划在Arbitrum主网上线后立刻完成部署，并对用户开放；另外， OKEX也宣布将支持Arbitrum网络的充值和提现。用户无需再与以太坊一层交互，降低交易手续费。</p>
<h2 id="34starkware">3.4 <strong>Starkware</strong></h2>
<p>StarkWare是一个来自以色列的零知识证明研发机构，专注于研究以太坊二层扩容技术。该团队在二层的技术积淀也非常深厚，二层技术路线、二层网络网络、零知识证明协议、编程语言、二层应用均有涉猎。几乎覆盖了二层所有的技术核心点。</p>
<p>其提出的Layer2底层的技术为Validium，后又进一步推出了Volition。StarkWare团队推出了一个去中心化的二层扩容网络StarkNet，支持以太坊上的通用计算，具备一定的免许可性和抗审查性。根据StarkWare在今年1月底公布的StarkNet路线图来看，该方案分为四个阶段，以逐步实现去中心化和生态集成。目前，团队已完成阶段0的构建，主要完善了三个重要组件，即证明协议zk-STARK、编程语言Cairo和交易所扩容方案StarkEx。</p>
<h3 id="341项目进展">3.4.1. <strong>项目进展</strong></h3>
<p>StarkWare对目前流行的SNARK算法做了改进，自主研发出新一代零知识证明协议STARK。该协议于2020年6月上线主网，能够大幅提高运行效率，并可以提供抗量子计算的零知识签名，是整个StarkNet去中心化证明层的基石。</p>
<p>另外，StarkWare还创造了独有的编程框架Cairo，以生成通用计算的STARK证明。Cairo于2020年10月在主网上线，面向所有开发者。该框架不仅是图灵完备的，还能避免零知识证明中复杂的电路设计，将证明的生成与验证分开进行。StarkWare团队不断改进Cairo，为其引入了众多新的功能、语法和内部插件，最近正在探索投票场景下的应用。</p>
<p>StarkWare也在阶段0中推出了第一个基于STARK的ZK Rollup应用StarkEx。StarkEx既是StarkNet第一批具体应用，也是专注于交易所场景的二层扩容引擎。StarkEx最早于2020年6月上线以太坊主网，随后在2020年12月上线了2.0版本。2.0版本是完全建立在Cairo框架上，支持一二层交互以及ERC721、链下铸币、智能合约密钥恢复等功能。目前，StarkEx仍处于迭代更新的状态，团队计划于2021年5月推出StarkEx 3.0,该版本将包含 L1限价单和批量长效的闪电贷功能。</p>
<p>按照团队计划，后续三个阶段分别对应单运营者单应用Rollup、单运营者多应用Rollup以及去中心化运营多应用Rollup，最终将在2022年底前逐步完成部署(图3-2)。</p>
<p>图3-2 StarkNet路线图</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_5r7wsflpv4.png" alt="slxRqANPeoZCcgXPJRLtr952fZqsCVl5XocqwDmM.png" title="5413402"></p>
<p>来源：Starkware官方文档</p>
<h3 id="342技术方案">3.4.2. <strong>技术方案</strong></h3>
<p>Starkware最早提出的二层解决方案是Validium，<strong>这个方案将数据保存在链下，但同时结合了ZK的思想对状态转换做有效性证明。</strong> 具体来说，数据在链下的有效性由链下的公证人保证，同时公证人会将链下交易的状态转换生成SNARK证明上传到链上。SNARK证明避免了公证人上传错误的状态转换到链上。但由于数据存储在链下，公证人可以合谋不提交数据，将用户的资产冻结。因此，<strong>其实Validium方案并不是Rollup系的技术</strong> ，但是在Validium方案中用户资产也被冻结的问题被讨论之后，<strong>Starkware推出了一个新的方案，Volition。Volition其实是ZK Rollup方案和Validium方案的结合</strong> (图3-3)，用户可以根据自己的需求选择将数据可用性的保证放在链上还是链下。因此，我们还是将Starkware团队的工作放进了本篇Rollup的文章中。</p>
<p>图3-3 Volition和其他Layer2技术</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_ezkkzbvzff.png" alt="hzc742oNg5fNJRfclzTv6jZZ39BHqK5jMP9ywCck.png" title="5413403"></p>
<p>来源：Starkware官方文档</p>
<p>在前面的章节中<strong>我们介绍过Matter Labs的zkPorter的方案，这个方案的思想就是源自于Validium</strong> ，但是在zkPorter中，链下的守护者无法冻结用户的资产，且在zkPorter中有一个分片是ZK Rollup的分片，数据可用性由链上保证，用户可以选择将自己的资产放在ZK Rollup的分片中或者可用性在链下的其他zkPorter的分片中。<strong>所以其实zkPorter的方案和Volition的方案是更为相似的</strong> 。</p>
<h3 id="343特点">3.4.3. <strong>特点</strong></h3>
<p><strong>安全性弱于一层，公证人有权冻结资金。</strong> Validium将数据保存在链下，二层的公证人只会向链上提供状态转换的证明，不会提交细节的交易信息，导致如果二层的公证人不将最新的状态公布给用户，用户无法自行构造证明来证明账户状态。因此存在二层公证人冻结用户资金敲诈的可能。</p>
<p><strong>退出时间相对较短。</strong> 因为Validium方案下公证人为状态转换提供了有效性证明，不需要挑战期，因此退出时间相对较短。</p>
<p><strong>无用户活性假设。</strong> 虽然该方案没有保证链上数据的有效性，存在欺诈的可能，但是SNARK证明能避免公证人提交虚假交易，因此不需要用户保持在线频率来防欺诈。另外，即便发生前述的公证人冻结资金的情况，也不能通过用户保持在线解决。</p>
<p><strong>通用性强于</strong> <strong>zkSync</strong> <strong>，但不兼容</strong> <strong>EVM</strong> <strong>。</strong> Starkware团队开发了Cairo语言，应用团队使用该语言开发应用可以省去自行编写生成证明的工作。但是由于不兼容EVM，现有以太坊的生态应用迁移过来需要额外的开发工作，这也是Starkware团队的方案没有获得广泛采纳的重要原因之一。</p>
<p><strong>吞吐量大幅提升。</strong> 由于数据放在了链下，Validium的吞吐量提升比ZK Rollup还要再高一个数量级。</p>
<h3 id="344应用">3.4.4. <strong>应用</strong></h3>
<p>当前已有多个应用宣布集成StarkWare的二层扩容方案。去中心化自治组织BadgerDAO于2月份在StarkNet上启动；Celer也计划利用Cairo编程语言，为自身扩容方案Layer2.finance开发基于零知识证明的版本；现货交易所dYdX、衍生品交易所DeversiFi和NFT交易市场Immutable 均上线支持了StarkEx方案，截至目前共产生超过10亿美元的交易量。其中，DeversiFi最早采用StarkEx扩容引擎，提供代币兑换功能，用户从Layer 1进入该网络无需支付任何Gas费；dYdX的二层网络版本于4月正式上线以太坊主网，提供十种代币的永续合约交易；而Immutable交易市场则与StarkEx在NFT领域开展合作，发布了二层解决方案ImmutableX的Alpha版本，支持区块链卡牌游戏玩家进行交易。</p>
<h1 id="四应用方案解读">四、 <strong>应用方案解读</strong></h1>
<p>在前面的章节中，绝大部分的内容都围绕Rollup技术的思想和其主要技术团队的落地情况进行了分析，但除此之外，应用也是Rollup生态中不可忽视的一环。<strong>除了一些本身已经在以太坊一层上长期运行的项目会落地到Rollup上，还有一些针对Rollup的特点或者说是缺点(如，带来流动性割裂、有挑战期等</strong> <strong>)</strong> <strong>而特别设计的应用。</strong> 本节也将针对其中3个代表性的应用方案进行解读，带读者一窥Rollup特色的应用是如何设计的。</p>
<h2 id="41celer--layer2finance">4.1. <strong>Celer</strong> <strong>：</strong> <strong>Layer2.finance</strong></h2>
<p>Celer Network于2021年2月发布最新的解决方案Layer2.finance，以降低DeFi的使用门槛，通过聚合需求来分摊单个用户承担的交易手续费。2021年4月底，Layer2.finance v0.1主网正式上线，目前支持AAVE，Compound和Curve三种DeFi协议。根据团队披露的数据来看，该方案上线一周后锁仓总量已超过140万美元，为900多笔交易节省了近3.4万美元的Gas手续费，性能表现良好。</p>
<h3 id="411解决的问题">4.1.1. <strong>解决的问题</strong></h3>
<p>当前在谈Layer2时，大家更多想到的是把Layer1上的应用搬到Layer2上去，以实现把计算和存储部分转移到Layer2降低主链的负荷。但这种方案在落地时，往往涉及到代码、资金、生态的迁移，在当前的Layer2的发展阶段下，这些迁移都并非易事。Celer的layer2.finance反其道而行之，<strong>不转移链上原本的应用，将交易的指令在Layer2上聚合，然后在Layer1上统一执行</strong> ，绕过前述问题，实现交易成本的降低。</p>
<h3 id="412方案">4.1.2. <strong>方案</strong></h3>
<p>Celer提出基于原地扩容的全新Layer2解决方案Layer2.finance。该方案包含以下几个部分：</p>
<p>首先，用户要将以太坊链上的资金存入到Layer2.finance的一层Rollup基金池合约中，这些资金会划分为闲置、已承诺和已分配三种不同的状态。其中，已承诺资金代表了交易从提交到实际执行的中间状态；已分配资金代表了交易执行完成后，用户收到的流动性凭证stToken，未来可用于赎回流动性，并将收益转换为闲置资金。</p>
<p>然后，用户就可以在layer.finance的二层网络中进行资金分配，即将资金投入不同DeFi协议以获取收益或从协议中撤出。</p>
<p>随后，Layer2.finance的出块节点会在Rollup链上收集交易并根据目的DeFi协议地址进行聚合分类。当汇总了足够多的交易或固定时段结束后，出块节点会把这些交易打包成块，向主链提供每个用户的状态根以及资金分配的具体方案。</p>
<p>最后，Layer2.finance的链上合约根据接收到的指令执行相应的资金分配操作。同时，出块节点也会根据一层交易结果更新二层用户的资金状态，确认资金分配无误后，返回用户相应的流动性凭证。</p>
<p>图5-1 Layer2.finance运行流程</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_sp00sn1bc2.png" alt="C3cNHoLtHG7QX0PdmFcsbgppUa3bOUXw94cJsu5i.png" title="5413407"></p>
<p>来源：Celer.Network官方文档</p>
<p>由于Layer2.finance目前使用的是Optimistic Rollup框架，所以Rollup区块在与一层交互时会存在挑战期。在该挑战期内，如果Layer2.finance协议进行了错误的资金分配，任何人都可以提交欺诈证明来回滚交易。未来，Layer2.finance将采用ZK Rollup路线来适配高并发聚合交易场景，不再需要设置挑战期来保证状态转换的有效性。</p>
<h3 id="413优势">4.1.3. <strong>优势</strong></h3>
<p><strong>低成本。</strong> 如果把DeFi比作地铁站，那Layer 2.finance就是穿梭在各个DeFi协议中的地铁。用户一改以往高消费的“专车”，只需购买便宜的“地铁票”，通过“多人拼单”的形式，来降低个体与DeFi的交互成本。</p>
<p><strong>无需迁移</strong> <strong>DeFi</strong> <strong>协议。</strong> 对于用户来说，自身持有的资金仍可以像之前一样在链上的多个DeFi协议中使用，降低Layer2带来的流动性割裂的问题；对于各个DeFi协议来说，不仅可以省去开发专用二层网络版本的工作，还可以通过连接Layer2.finance实现自身二层用户的积累。</p>
<p><strong>可叠加的可扩展性。</strong> 从短期看，单条Layer 2.finance受限于链上容量，可能会随着交易规模的增大而无法维护；但长期来看，一旦ETH2.0落地，系统可以增加多条Layer 2.finance Rollup链到对应的流动性系统中，打破扩展性的上限。</p>
<h3 id="414局限">4.1.4. <strong>局限</strong></h3>
<p>Layer2.finance目前同样存在一定的局限性。首先是<strong>打包聚合交易导致的延迟问题</strong> ，用户在表达资金分配的意图到实际的资金分配中存在固定延迟，需要在成本和时效性上做出抉择；其次，<strong>该方案存在高级操作的局限性</strong> ，用户无法执行多个DeFi协议的高级定制化组合；最后，<strong>用户在该方案上的可选择性是有限的</strong> 。目前Layer2.finance只上线了三个DeFi协议，虽然未来会慢慢整合更多的策略协议，相对稳定且收益率较保守的项目可能是会被优先考虑的。</p>
<h2 id="42starkware--caspia-n">4.2. <strong>Starkware</strong> <strong>：</strong> <strong>Caspia</strong> <strong>n</strong></h2>
<p>StarkWare于2021年4月发布L2 AMM流动性聚合方案Caspian，<strong>可以有效应对</strong> <strong>Layer 1</strong> <strong>流动性被分流到二层导致的流动性碎片化问题</strong> 。根据团队预估，该方案在6月即将上线的StarkEx3.0升级中有望得以实现，但目前看来有所推迟。</p>
<p>图5-2 Caspian方案总览</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_o000h3uzin.png" alt="SwlpovQ04DX2wbUu8amGaSd0FyhWI4RbspaTC0OT.png" title="5413417"></p>
<p>来源：StarkWare官方文档</p>
<h3 id="421解决的问题">4.2.1. <strong>解决的问题</strong></h3>
<p>随着链下扩容逐渐成为以太坊网络2021年发展建设的主旋律，Layer2上会诞生新的AMM项目，已有的一层的AMM项目也会迁移部分流动性到二层，导致一层流动性被分流，加重资金碎片化问题。对于AMM应用来说，它们的资金聚集效应十分显著，往往需要较大的资金体量才能提供好的交易体验。所以，妥善解决流动性碎片化问题并提高资金效率，是十分有必要的。</p>
<h3 id="422方案">4.2.2. <strong>方案</strong></h3>
<p>StarkWare提出由二层驱动的AMM设计方案Caspian，<strong>把交易放在二层进行，再从一层的</strong> <strong>AMM</strong> <strong>池中向各个交易地址调配资金</strong> 。Caspian分为链下和链上两部分，链下包含运营商、交易者和流动性提供者，其中，运营商是一个可以处理二层网络交易的做市商，它可以按批次处理多笔交易，当一个批次交易结束时，会生成STARK有效性证明，并且根据状态变更来结算批次里的交易；交易者指的是各个二层应用上的用户；而流动性提供者则是以太坊链上的各个流动性提供者。链上是一个由Layer 2驱动的AMM智能合约以及StarkEx合约，前者是一个标准的AMM合约，但稍有不同的是，它的唯一对手方是链下的运营者且提款要等待前一批次的交易处理完成才能进行；后者即为支撑运营者服务的StarkEx系统。该方案的具体过程如下：</p>
<p>首先，运营商聚合起一批二层用户发来的交易，并自行撮合接受到的报价订单；然后，运营商可以在链上的AMM合约中生成一个限价单，并将该批次里产生的交易净差额与该订单撮合，完成用户剩余的资金分配；最后，运营商将该批次的交易发送给StarkEx系统，生成批量STARK证明，在经过verifier验证后完成该批次交易的结算以及状态的更新。在整个过程中，AMM合约池中的代币流动性是通过一层流动性提供者提供的，其本质还是保持代币的流动性在L1，根据L2交易指令来进行资金调配。</p>
<p>图5-3 Caspian运行流程</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_vkjibbgm8s.png" alt="NXBJp8zwzkyaYeFb0TzSxXR3abGmULaWCJTsscWV.png" title="5413421"></p>
<p>来源：StarkWare官方文档</p>
<p>另外，在Caspian的设计中，还新增了闪电贷的功能。通过将贷款期限延长至整个交易批次的流程，运营者可以提前在链下铸币发送给交易者，但前提是必须在该批交易结束时销毁它们。这样一来，可以大大提高运营商作为中间方撮合订单的效率。</p>
<h3 id="423优势">4.2.3. <strong>优势</strong></h3>
<p>目前众多应用只能靠多个做市商实现在不同网络中部署资金，执行做市策略。Caspian方案可以实现在二层进行指令调配以及交易的聚合，在一层的流动性池中将资金发送到用户地址，完成跨L1和L2的AMM，<strong>缓解二层分流一层资金带来的流动性碎片化问题</strong> 。</p>
<h3 id="424局限">4.2.4. <strong>局限</strong></h3>
<p>从该方案的设计机制上看，Caspian是<strong>存在中心化风险的</strong> 。因为运营商既是AMM智能合约的对手方，也是与一层交互的唯一对象，可以决定部分交易需求的去留，一旦出现作恶行为，很可能导致用户资金的损失；另外，该方案还处于概念性阶段，<strong>还有一些组件待补充</strong> ，例如L1限价单和批量闪电贷，这些功能的具体实现要等到6月StarkEx3.0网络升级后才有可能；最后，Caspian的设计思路与Celer的Layer2.finance类似，后者已于4月上线，占据一定的先发优势。</p>
<h2 id="43makerdao--dai-bridg-e">4.3. <strong>MakerDAO</strong> <strong>：</strong> <strong>Dai Bridg</strong> <strong>e</strong></h2>
<p>3月初，MakerDao智能合约团队在其官方论坛上发布了一种新的解决方案Optimism Dai Bridge来支持快速提款，用于解决Optimistic Rollup需要一周提款时间的问题。据团队表示，该功能将在今年第三或第四季度正式上线。</p>
<h3 id="431解决的问题">4.3.1. <strong>解决的问题</strong></h3>
<p>由于Optimism在设计中借鉴了Plasma的欺诈证明机制，从一层到二层网络的代币转移可以很快完成，但反向移动则需要用户等待一周左右的争议期，用于验证状态是否正确更新。Maker团队认为，资金提取时间过长会成为制约Optimistic Rollup发展和影响用户体验的重要因素。</p>
<p>图5-4 Optimism存款和取款时间对比</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_coqre2mjyn.png" alt="PqEq2HBF1wXY4RO95JLR7qv8DgwPMez6IxI7qDoS.png" title="5413423"></p>
<p>来源：MakerDAO官方文档</p>
<h3 id="432方案">4.3.2. <strong>方案</strong></h3>
<p><strong>Optimism Dai Bridge</strong> <strong>引入预言机快速验证排序者提交的交易</strong> ，验证无误后，提前将用户在二层要提取的DAI借由中间代币fdai的桥接铸造出等量的一层上的DAI，<strong>避免了漫长的等待带来的资金利用率和可组合性下降的问题</strong> 。</p>
<p>该方案的具体过程如下：首先，二层上所有有关oDai(二层上的DAI在该方案中被称作oDAI)的交易请求会被链上的CTC(Canonical Transaction Chain，是Optimism团队的解决方案中的一个组成部分)合约记录下来；然后，交易提款请求会经过Maker的预言机验证，确认交易的有效性和金额；通过验证的提款交易会映射到一层上铸造出相应数量的fDai，这些fDai可以看作是用户对原先锁定在一层上DAI的取款凭证；最后，用户将手中的fDai质押可以在一层铸造出新的DAI给用户提走。等到该交易的挑战期结束，抵押的fDai和锁在一层合约中的DAI会被清算，用户只需要支付一定的利息即可。这样一来，用户无需等待DAI的一周锁定期，近乎即刻就能实现提款。</p>
<p>不仅如此，Maker团队还提出可以将这项服务扩展到任何二层代币的快速兑换。除了稳定币DAI之外，用户可以首先在二层上将资产兑换成oDAI，再利用Optimism Dai Bridge交换oDAI为DAI，最后按照比率兑换回原先的资产。这个过程需要集成L2上的AMM以及与L1上AMM的协作，如果成功实现，可以很大程度提高二层资产到一层的快速流动。</p>
<p><strong>整个方案的核心是相信了预言机对交易状态的提前验证，因此相信了提款交易的最终性，提前将资金释放给用户</strong> 。</p>
<p>图5-5 Optimism Dai Bridge运行流程</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_ya5es1ag48.png" alt="Hx6Lg4sCksyFKP7ogMbVnYOGYhxfmPYncOJbeMWl.png" title="5413425"></p>
<p>来源：MakerDAO官方文档</p>
<h3 id="433优势">4.3.3. <strong>优势</strong></h3>
<p><strong>提款时间快。</strong> 解决了Optimism的用户痛点，将提款时间由一周缩短至几分钟。</p>
<p><strong>无需对手方。</strong> Maker本身具有Dai的发行能力，这里只是利用fDai作为连接桥梁，实现Dai的发行。并且，该方案与现有抵押借贷的协议逻辑衔接，提供资产保障，用户只需要和Maker协议本身交互，无需对手方参与交易过程。</p>
<p><strong>灵活性强、流动性高。</strong> 系统设立了Maker协议的fDAI库，用户不仅可以按照上述方案获取fDAI，也能从其它用户手中交易fDAI从而铸造出DAI，完成提款。</p>
<p><strong>保证二层用户利益。</strong> 即便预言机失灵，造成了DAI的超发，但并不会影响二层用户的利益。原因是，增加的DAI相当于Maker协议的负债，这时会触发Maker里的债务拍卖机制，系统增加流通中的MKR量，用于清偿债务，将损失转移给了MRK持有者。锁定在一层合约中的DAI和二层中的oDAI价值仍然是相等的。</p>
<h3 id="434局限">4.3.4. <strong>局限</strong></h3>
<p>在该方案中，<strong>假定了预言机是正常运行、可以信任的</strong> ，但原方案中未阐述这种预言机更细致的工作原理，不排除出现预言机与二层排序者串谋的机攻击或者预言机宕机等情况。</p>
<h1 id="五数据表现">五、 <strong>数据表现</strong></h1>
<p>上文详细介绍了目前主流的Rollup代表项目及应用方向，尽管目前其中多数仍处于刚上线或上线前期，但已有一些数据值得关注。本章将从<strong>资金承载、开发进度和实际性能</strong> 上对主流项目进行对比分析。</p>
<p>截止6月25日，超11.8亿美元的价值由以太坊Layer2(本小节统计的Layer2数据不包含侧链)项目承载，约占以太坊DeFi近459亿美元总锁仓量的2.57%。其中，Rollup占据Layer2方案32.77%的资金量。各个方案中头部项目的承载资金量数据显示，其中ZK Rollup占比29.23%，其次分别是Optimistic Rollup（3.54%）和Validium（1.73%）。</p>
<p>由于Rollup系落地速度不快，项目迁入也存在一定开发难度，因此整体资金承载量自先锋项目如ZKSwap和Loopring上线后尚未出现第二个爆发点。同时，随着近2个月Polygon生态的崛起，打乱了整个Layer 2赛道的格局，让Rollup分支资金承载占比自4月末超50%下降，近2个月占比下降超17个百分点。</p>
<p>图5-1 截止6月25日Layer 2 各分支资金承载情况</p>
<p><img src="https://img.bibiqing.com/news/2021/0713/14_1mzs6vb8y3.png" alt="ejWaQGMYB56lTHMvqFvlz1m4Vv5W7tQ3uoKSZNy2.png" title="5413427">ZK系凭借着ZK Swap和Loopring对以太坊二层交易所的早期快速布局，目前仍承载着Rollup方向下近85%的资金；OP系基于头部项目Synthetix的早期布局承载着分支近10%资金；Validium以StarkWare为代表，上线较晚且应用场景限定在几个去中心化交易所上，仅承载了近5%的分支资金。来源：The Block，火币研究院整理</p>
<p>图5-2 Layer2 各分支项目进度</p>
<p><strong>技术路线</strong></p>
<p><strong>项目/</strong></p>
<p><strong>团队</strong></p>
<p><strong>开发进度</strong></p>
<p><strong>应用情况</strong></p>
<p><strong>TVL</strong></p>
<p><strong>(百万美元)</strong></p>
<p><strong>实际性能</strong></p>
<p><strong>ZK Rollup</strong></p>
<p>Loopring</p>
<p>上线3.6版本，代码已审计，交易所已公测</p>
<p>路印DEX/钱包</p>
<p>139.79</p>
<p>tps(目前)：0.6<br>
退出时间：2h</p>
<p>zksync</p>
<p>1.x版本已上线；不完全兼容EVM的2.0版本上线测试网，主网8月正式上线</p>
<p>Curve、imToken、Sushi、Argnet将接入；Gitcoin、Storj、Golem等集成</p>
<p>7.74</p>
<p>tps(目前)：0.05<br>
退出时间：5h</p>
<p>Hermez</p>
<p>主网已上线</p>
<p>Hermez钱包</p>
<p>30.72</p>
<p>tps(目前)：0.00092<br>
退出时间：20min</p>
<p>zkSwap</p>
<p>主网已上线，交易所已运行</p>
<p>DEX</p>
<p>122.85</p>
<p>tps(目前)：0.0843<br>
退出时间：20-40min</p>
<p><strong>OP Rollup</strong></p>
<p>Optimism</p>
<p>软启动中，主网延期至7月上线，近期集成Etherscan支持查询</p>
<p>Synthetix质押服务；<br>
*Uniswap v3、MakerDAO、Compound等已布局</p>
<p>41.74(Synthetix)</p>
<p>tps(目前)：14-34(测试)<br>
退出时间：7D</p>
<p>FuelLabs</p>
<p>上线1.0版本</p>
<p>*UI开发中，钱包集成中</p>
<p>-</p>
<p>tps(目前)：-<br>
退出时间：10min(HTLC) 或 7-14D</p>
<p><strong>Arbitrum</strong></p>
<p>OffchainLabs</p>
<p>已向开发者开放主网测试版</p>
<p>MCDEX、Bancor、Uniswap v3、集成中</p>
<p>0.07</p>
<p>tps(目前)：0.1141(测试)<br>
退出时间： 7-14D</p>
<p><strong>Validium</strong></p>
<p>StarkWare</p>
<p>已完成阶段0的构建，StarkEx 2.0上线；结合了ZK技术的StarkNet已上线测试网</p>
<p>DeversiFi和Immutable X；*dYdX (StarkWare+ZK)</p>
<p>20.48(DeversiF+ImmutableXi)</p>
<p>tps(目前)：-<br>
退出时间： 10min</p>
<p>来源：火币研究院整理</p>
<h2 id="51开发进度">5.1 <strong>开发进度</strong></h2>
<p>开发进度上看，<strong>ZK系</strong> 最受瞩目的项目<strong>zkSync</strong> 目前已上线1.x版本主网，目前已接入了Curve、Sushiswap等头部应用；而其2.0版本也于月初上线测试网，预计8月正式发布。值得一提的是，公测中的2.0版本已开放zkPorter，支持链下数据可用性；同时正在加速开发zkEVM以为项目方提供更好的智能合约兼容性。另一方面， <strong>ZKSwap和Loopring</strong> 则分别于去年12月和今年2月末基于ZK Rollup技术上线其去中心化交易所，但后续在技术开发上并未持续寻求突破，而是转向生态的探索。而<strong>Aztec和Hermez</strong> 两个专注转账的应用也纷纷上线主网，但目前生态应用落地较少。</p>
<p>Optimistic Rollup技术研发行列中最主流的团队是Optimism和Fuel labs。<strong>Optimism</strong> 团队目前仍处于启动状态中，主网延期至7月上线，但Synthetix已于4月兼容其技术，率先上线了SNX质押功能。<strong>Fuel</strong>  <strong>labs</strong> 在2021年1月宣布了其1.0版本的上线，但目前应用侧仍处于钱包集成、UI开发等阶段。 </p>
<p>Validium方案是由以色列研发机构StarkWare主导开发，目前已完成阶段0的部署并上线其交易所扩容方案StarkEx 2.0版本。应用方面，目前dYdX、DeversiFi和Immutable X正基于其技术进行开发，但整体生态及参与者仍较少。</p>
<p><strong>Arbitrum</strong> 的第一个版本最早出现于2014年，目前已向开发者开放主网测试版Arbitrum One。应用方面，早期推进开发的团队包括MCDEX、Bancor等；而在其主网测试版上线后，Uniswap v3、Sushiswap、DODO等知名项目也纷纷进行了部署，目前已有超250个项目申请接入。</p>
<h2 id="52资金数据">5.2 <strong>资金数据</strong></h2>
<p>从承载资金方面看，截止6月25日，部分具备Rollup功能的主流项目承载资金量如下：</p>
<p>图5-3 承载资金量</p>
<p><strong>Rollup种类</strong></p>
<p><strong>项目/团队</strong></p>
<p><strong>承载资金量</strong></p>
<p><strong>（</strong> <strong>百万</strong> <strong>美元）</strong></p>
<p><strong>分支内占比</strong></p>
<p><strong>ZK Rollup</strong></p>
<p>ZKSwap</p>
<p>122.85</p>
<p>35.54%</p>
<p>Loopring</p>
<p>139.79</p>
<p>40.44%</p>
<p>dYdX</p>
<p>43.95</p>
<p>12.71%</p>
<p>ZKSync</p>
<p>7.74</p>
<p>2.24%</p>
<p>Aztec</p>
<p>0.63</p>
<p>0.18%</p>
<p>Hermez</p>
<p>30.72</p>
<p>8.89%</p>
<p><strong>合计</strong></p>
<p><strong>345.67</strong></p>
<p><strong>1</strong> <strong>00%</strong></p>
<p><strong>OP Rollup</strong></p>
<p>Optimism (Synthetix)</p>
<p>41.74</p>
<p>99.83%</p>
<p>Arbitrum</p>
<p>0.07</p>
<p>0.17%</p>
<p><strong>合计</strong></p>
<p><strong>41.81</strong></p>
<p><strong>1</strong> <strong>00%</strong></p>
<p><strong>Validium</strong></p>
<p>DeversiFi</p>
<p>20.04</p>
<p>97.85%</p>
<p>ImmutableX</p>
<p>0.44</p>
<p>2.15%</p>
<p><strong>合计</strong></p>
<p><strong>20.48</strong></p>
<p><strong>1</strong> <strong>00%</strong></p>
<p>来源：The Block，火币研究院整理</p>
<p>整体看，ZKSwap和Loopring作为ZK系先锋先行落地，分别承载了约1.23亿美元和1.40亿美元的资金，目前在本文研究的四个技术路线中独占鳌头。值得一提的是，作为新萌生的L2 DEX，ZKSwap近两个月自超13亿美元大幅缩水超90%至目前的1.23亿美元，<strong>这或许是独立研发ZK Rollup路径的DEX共同面临的困境：在早期挖矿红利消失后，不支持EVM的技术如何突破L</strong> <strong>2</strong> <strong>资产孤岛的封锁。</strong> 从解决思路上，我们看到ZKSwap作出了2类尝试：通过加码挖矿、回购销毁生态通证ZKS以持续刺激用户进入；通过开发NFT协议试图增加玩法，此功能尚未上线。在现阶段，前者是针对存量用户的策略，后者则可能打开新的增量市场。此外，作为早期项目的dYdX虽然也采用了StarkEx的方案，但使用的是其ZK Rollup版本，依托其一层TVL转化也为ZK系承载资金提供了加成。</p>
<p>OP方案受限于Optimism团队的延期发布，目前承载资金基本靠Synthetix的质押功能支撑。未来随着Synthetix核心的合成资产铸造、Uniswap V3的二层版本接入，以及其他头部Defi应用的迁移，其承载资金或可大幅提升。与目前的ZK路径不同，OP天然对EVM及智能合约开发友好，或更易复制、创造生态热度；<strong>但同时，OP在机制上较长的退出周期会在另一维度上加剧资产孤岛的问题</strong> ，用户在进入生态前或需反复思考，<strong>这对每个项目的在安全和收益上的稳定性提出了更高的要求</strong> ，推测早期或只有足够成熟的项目可吸引到大量资金。</p>
<p>最后，Validium由于接入的项目如DeversiFi、ImmutableX等则本身生态较小，因此整体承载资金较少。而Arbitrum刚进入开发者测试阶段，出现一定规模的资金量仍待其主网正式上线、接入用户后观察。</p>
<h2 id="53实际性能">5.3 <strong>实际性能</strong></h2>
<p>实际性能方面，我们主要观察<strong>吞吐量（tps）</strong> 、<strong>提现/退出至一层的时间</strong> 以及<strong>整体费率</strong> 较以太坊的提升和变化。</p>
<p>我们在图5-2中已列出统计范围内各项目近期实际吞吐量（tps）的对比。可以看到，虽然各项目理论tps均较以太坊15 tx/s的数值有了较大增长。ZK系支持以太坊100倍以上的理论吞吐量峰值，OP系则在以太坊33倍（500 tps）左右，但<strong>由于各项目整体还都在上线之初，交易活跃度仍不高，且功能尚未完全开放，因此实测的吞吐量数值仍很低。</strong></p>
<p>从提取资金至一层的时间来看，Rollup方案目前整体仍较慢。尽管理论上ZK Rollup在一二层之间的资金转移可以实现数分钟内提取资金，但<strong>由于交易活跃度仍不够高，出于降低单笔交易费用的考量，目前提款时间还只能做到数小时内级别</strong> ；最快的如ZKSwap和Hermez也需要20分钟。而Optimistic Rollup由于设置了欺诈证明机制，<strong>资金提取时间常需要1周左右</strong> 。</p>
<p>图5-4 资金提取速度</p>
<p><strong>ZK Rollup</strong></p>
<p><strong>Optimistic Rollup</strong></p>
<p><strong>Validium</strong></p>
<p><strong>Arbitrum</strong></p>
<p>ZKSync</p>
<p>Loopring</p>
<p>Aztec</p>
<p>ZKSwap</p>
<p>Hermez</p>
<p>Optimism</p>
<p>Fuel</p>
<p>StarkEx</p>
<p>OffChainLabs</p>
<p><strong>取款时间</strong></p>
<p>5小时</p>
<p>2小时</p>
<p>4小时</p>
<p>20-40分钟</p>
<p>20分钟</p>
<p>7天</p>
<p>7-14天</p>
<p>10分钟</p>
<p>7-14天</p>
<p>来源：火币研究院整理</p>
<p>从费用上看，目前已上线或测试中的项目，在二层内执行基本功能如转账、清算等的费用已大幅降低，折美元计价均低于1美元；交易行为则取决于各项目的盈利模型有较大差异。而在一二层充值、提现中，由于涉及到和以太坊一层的合约的交互，<strong>仍需基于以太坊费率进行收费，整体小于等于以太坊普通交易费用。</strong> 其中，充值部分费用因交易自动执行，因此一般将取决于项目代码复杂程度。根据调研，目前项目整体充值费用约为以太坊一笔普通转账费用的0.5-1倍。提现方面项目方则略有不同，如ZKSwap固定收取价值5美元的L1网络费用；测试中的Optimism团队决定在前期减免费用；路印实际提取费用约为以太坊交易的1/4，前期进行减免；zkSync则基本等同于以太坊转账交易。</p>
<p><strong>结合资金数据和性能看，目前</strong> <strong>Layer 2</strong> <strong>方案下的生态还在相当早期，尚待头部DeFi项目汇聚在同一二层项目下，靠可组合性吸引大量用户迁移，带领浪潮。</strong> 目前的难点主要在获得大量DeFi头部项目站台的zkSync和Optimism成熟度较低，支持全部功能的正式版本分别拟于8月和7月上线。头部项目包括Curve、Sushi、Uniswap、Compound等也均未推出可让用户测试的版本。</p>
<p>未来，随着两个项目顺利落地，而上述头部项目也纷纷推出二层版本，<strong>用户可以在一个</strong> <strong>Layer 2</strong> <strong>生态内体验较完整的链上活动，且速度和费用均可以“多快好省”，则将逐渐形成良性的循环</strong> 。同时，Uniswap v3上线至今，尽管资金效率大幅提升，但对应的费用也持续上升，这在二层版本中可以得到极大缓解，或将获得更多中小流动性提供者的支持，进而衍生出基于其NFT开发的新项目，这也令人期待。</p>
<p>整体看，各Rollup项目2020年以来进度加速，<strong>开发进度及承载资金量均由较明显进步，但仍处于较早期的状态；</strong> <strong>ZK</strong> <strong>系因</strong> <strong>ZKSwap</strong> <strong>、</strong> <strong>Loopring</strong> <strong>的早期入局落地较快，而</strong> <strong>OP</strong> <strong>系呼之欲出。</strong> 性能上看，由于生态及活跃度尚不成熟，各项目的实测性能仍据其理论峰值有较大差距，但已基本实现对高昂费用的降低。<strong>但由于技术研发及实现的难度、项目方基于安全性及生态的考虑、用户基于习惯的选择等因素，整体仍处于早期，生态尚不完整。</strong></p>
<h1 id="六总结与展望">六、 <strong>总结与展望</strong></h1>
<p>Rollup作为以太坊二层新一代技术，相比闪电网络、Plasma、侧链等等被寄托了更高的期待。目前Rollup还主要在前期的技术积累和难点攻克的阶段，尚未大面积铺开应用生态。</p>
<p>从技术落地上，可以预见的是，<strong>Optimistic Rollup路线的方案因为可以率先实现兼容EVM的通用二层网络，通用方案会先于ZK系技术落地</strong> 。而对于Layer 2，不管是何种类型的Rollup，对EVM的兼容会是决定生态能否快速成长的重要因素，这一点不仅表现在Rollup上，在侧链领域，我们也能看到兼容EVM的Polygon和不兼容的xDai在发展上的巨大差异。同时，<strong>由于技术本身的限制，预计ZK系和OP系将在此后分别针对EVM兼容和退出时间缩短上努力</strong> ，以克服由此带来的障碍。此外，<strong>跨Layer</strong>  <strong>2的交互会是长期来看另一各重要的问题</strong> ，该领域的解决方案大概率是基于场景的基于信任的解决方案会先诞生。</p>
<p>从生态上看，<strong>Rollup方向下各分支目前均处于早期，生态不完善</strong> ，尽管我们观察到各头部项目在ZK、OP和Arbitrum上已在部署中，但<strong>整体仍是以DEX类为主</strong> 。而随着Rollup技术在去年下半年至今的推进，今年下半年我们将会看到Rollup各个头部团队的重要更新和落地。由此，我们也推测，<strong>第一批落地的仍将是头部DEX、钱包、预言机和一些数据类中间件项目</strong> ；随着第一批基础设施的不断完善、各Rollup项目在技术上持续优化，<strong>头部defi应用将开始大规模推进在Layer2上的落地</strong> ；随着吞吐量的提升和交易手续费的数量级级别的下降会解开束缚在一层应用身上的枷锁，跨Layer 2交互及跨以太坊交互的技术同步跟进，<strong>新的d</strong> <strong>efi</strong> <strong>场景定会诞生</strong> 。 </p>
<p>Rollup未来是否已来，我们共同期待。</p>
<h1 id="参考文献"><strong>参考文献</strong></h1>
<p>[1] https://zksync.io/faq/</p>
<p>[2] https://community.optimism.io/docs/</p>
<p>[3] https://offchainlabs.com/Arbitrum-USENIX.pdf</p>
<p>[4] https://www.chainnews.com/articles/996131059338.htm</p>
<p>[5] https://ethfans.org/posts/the-why-s-of-optimistic-rollup</p>
<p>[6] https://ethfans.org/posts/whats-up-with-rollup</p>
<p>[7] https://medium.com/offchainlabs/whats-up-with-rollup-db8cd93b314e</p>
<p>[8] https://blog.godsunchained.com/2021/04/07/immutable-x-marketplace-early-access/</p>
<p>[9] https://www.theblockcrypto.com/linked/100653/dydxs-layer-2-live-ethereum-scaling-solution-starkware</p>
<p>[10] https://medium.com/starkware/starks-over-mainnet-b83e63db04c0</p>
<p>[11] https://mp.weixin.qq.com/s/fGX1vZ9ylp3QAzBK0GIjVw</p>
<p>[12] https://mp.weixin.qq.com/s/oRSnb0EyCGfUdj5f3GlpUQ</p>
<p>[13] https://mp.weixin.qq.com/s/ogqwq4oSa2D9SVKaF1w1sg</p>
<p>[14] https://www.sohu.com/a/445659790_100217347</p>
<p>[15] https://medium.com/starkware/caspian-an-l2-powered-amm-f20e93b5421</p>
<p>[16] https://www.youtube.com/watch?v=vDiMYP8vc60&amp;list=PLcIyXLwiPilUFGw7r2uyWerOkbx4GFMXq&amp;index=18&amp;t=1s</p>
<p>[17] https://www.chainnews.com/articles/908635230658.htm</p>
<p>[18] https://www.chainnews.com/articles/021738991995.htm</p>
<p><strong>关于火币研究院</strong></p>
<p>火币区块链应用研究院（简称“火币研究院”）成立于2016年4月，于2018年3月起致力于全面拓展区块链各领域的研究与探索，以泛区块链领域为研究对象，以加速区块链技术研究开发、推动区块链行业应用落地、促进区块链行业生态优化为研究目标，主要研究内容包括区块链领域的行业趋势、技术路径、应用创新、模式探索等。本着公益、严谨、创新的原则，火币研究院将通过多种形式与政府、企业、高校等机构开展广泛而深入的合作，搭建涵盖区块链完整产业链的研究平台，为区块链产业人士提供坚实的理论基础与趋势判断，推动整个区块链行业的健康、可持续发展。</p>
<p><strong>联系我们：</strong></p>
<p>咨询邮箱：  huobiresearch@huobi.com</p>
<p>官方网站：  http://www.huobiresearch.com/</p>
<p>微信公众号： HuobiCN</p>
<p>新浪微博：  火币区块链研究院</p>
<p><a href="https://www.weibo.com/u/6690456123">https://www.weibo.com/u/6690456123</a></p>
<p>Twitter：  Huobi_Research</p>
<p><a href="https://twitter.com/Huobi">https://twitter.com/Huobi</a>_Research</p>
<p>Medium：  Huobi Research</p>
<p><a href="https://medium.com/@huobiresearch">https://medium.com/@huobiresearch</a></p>
<p>欢迎加入研究院学习交流小组</p>
<p>扫码添加学习小助手微信</p>
<p><strong>免责声明</strong></p>
<p>1. 火币区块链研究院与本报告中所涉及的项目或其他第三方不存在任何影响 报告客观性、独立性、公正性的关联关系。</p>
<p>2. 本报告所引用的资料及数据均来自合规渠道，资料及数据的出处皆被火币区块链研究院认为可靠，且已对其真实性、准确性及完整性进行了必要的核查，但火币区块链研究院不对其真实性、准确性或完整性做出任何保证。</p>
<p>3. 报告的内容仅供参考，报告中的结论和观点不构成相关数字资产的任何投资建议。火币区块链研究院不对因使用本报告内容而导致的损失承担任何责任，除非法律法规有明确规定。读者不应仅依据本报告作出投资决策，也不应依据本报告丧失独立判断的能力。</p>
<p>4. 本报告所载资料、意见及推测仅反映研究人员于定稿本报告当日的判断，未来基于行业变化和数据信息的更新，存在观点与判断更新的可能性。</p>
<p>5. 本报告版权仅为火币区块链研究院所有，如需引用本报告内容，请注明出处。 如需大幅引用请事先告知，并在允许的范围内使用。在任何情况下不得对本 报告进行任何有悖原意的引用、删节和修改。</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/25773/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">升级在即 ETH2.0有何改进？</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/25730/">
                <span class="next-text nav-default">谁有权铸造NFT艺术品？</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#一rollup概述">一、 <strong>Rollup概述</strong></a></li>
    <li><a href="#11什么是rollup">1.1 <strong>什么是Rollup？</strong></a></li>
    <li><a href="#12如何演进出rollup">1.2 <strong>如何演进出Rollup？</strong></a></li>
  </ul>

  <ul>
    <li><a href="#21r-ollup-如何运转">2.1. <strong>R</strong> <strong>ollup</strong> <strong>如何运转？</strong></a></li>
    <li><a href="#22如何实现交易压缩">2.2. <strong>如何实现交易压缩？</strong></a></li>
    <li><a href="#23如何将二层的状态转换同步到一层">2.3. <strong>如何将二层的状态转换同步到一层？</strong></a></li>
    <li><a href="#24如何防止二层运营者欺诈">2.4. <strong>如何防止二层运营者欺诈？</strong></a></li>
  </ul>

  <ul>
    <li><a href="#31matterlabs">3.1 <strong>MatterLabs</strong></a>
      <ul>
        <li><a href="#311项目进展">3.1.1. <strong>项目进展</strong></a></li>
        <li><a href="#312技术方案">3.1.2. <strong>技术方案</strong></a></li>
        <li><a href="#313特点">3.1.3. <strong>特点</strong></a></li>
        <li><a href="#314应用">3.1.4. <strong>应用</strong></a></li>
      </ul>
    </li>
    <li><a href="#32optimism">3.2 <strong>Optimism</strong></a>
      <ul>
        <li><a href="#321项目进展">3.2.1 <strong>项目进展</strong></a></li>
        <li><a href="#322技术方案">3.2.2 <strong>技术方案</strong></a></li>
        <li><a href="#323特点">3.2.3 <strong>特点</strong></a></li>
        <li><a href="#324应用">3.2.4 <strong>应用</strong></a></li>
      </ul>
    </li>
    <li><a href="#33offchain-labs">3.3 <strong>Offchain</strong>  <strong>Labs</strong></a>
      <ul>
        <li><a href="#331项目进展">3.3.1. <strong>项目进展</strong></a></li>
        <li><a href="#332技术方案">3.3.2. <strong>技术方案</strong></a></li>
        <li><a href="#333特点">3.3.3. <strong>特点</strong></a></li>
      </ul>
    </li>
    <li><a href="#34starkware">3.4 <strong>Starkware</strong></a>
      <ul>
        <li><a href="#341项目进展">3.4.1. <strong>项目进展</strong></a></li>
        <li><a href="#342技术方案">3.4.2. <strong>技术方案</strong></a></li>
        <li><a href="#343特点">3.4.3. <strong>特点</strong></a></li>
        <li><a href="#344应用">3.4.4. <strong>应用</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#41celer--layer2finance">4.1. <strong>Celer</strong> <strong>：</strong> <strong>Layer2.finance</strong></a>
      <ul>
        <li><a href="#411解决的问题">4.1.1. <strong>解决的问题</strong></a></li>
        <li><a href="#412方案">4.1.2. <strong>方案</strong></a></li>
        <li><a href="#413优势">4.1.3. <strong>优势</strong></a></li>
        <li><a href="#414局限">4.1.4. <strong>局限</strong></a></li>
      </ul>
    </li>
    <li><a href="#42starkware--caspia-n">4.2. <strong>Starkware</strong> <strong>：</strong> <strong>Caspia</strong> <strong>n</strong></a>
      <ul>
        <li><a href="#421解决的问题">4.2.1. <strong>解决的问题</strong></a></li>
        <li><a href="#422方案">4.2.2. <strong>方案</strong></a></li>
        <li><a href="#423优势">4.2.3. <strong>优势</strong></a></li>
        <li><a href="#424局限">4.2.4. <strong>局限</strong></a></li>
      </ul>
    </li>
    <li><a href="#43makerdao--dai-bridg-e">4.3. <strong>MakerDAO</strong> <strong>：</strong> <strong>Dai Bridg</strong> <strong>e</strong></a>
      <ul>
        <li><a href="#431解决的问题">4.3.1. <strong>解决的问题</strong></a></li>
        <li><a href="#432方案">4.3.2. <strong>方案</strong></a></li>
        <li><a href="#433优势">4.3.3. <strong>优势</strong></a></li>
        <li><a href="#434局限">4.3.4. <strong>局限</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#51开发进度">5.1 <strong>开发进度</strong></a></li>
    <li><a href="#52资金数据">5.2 <strong>资金数据</strong></a></li>
    <li><a href="#53实际性能">5.3 <strong>实际性能</strong></a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.308d1186d284e0b3f5e6187c85ea0a927fdc75459dbd958fc0fb1f4400ed52ee.js" integrity="sha256-MI0RhtKE4LP15hh8heoKkn/cdUWdvZWPwPsfRADtUu4=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
